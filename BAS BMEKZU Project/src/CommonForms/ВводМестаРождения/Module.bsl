&НаКлиенте
Перем ДействиеВыбрано;

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)
	
	Если Параметры.Свойство("АвтоТест") Тогда // Возврат при получении формы для анализа.
		Возврат;
	КонецЕсли;
	
	ДанныеОМестеРождения = КадровыйУчетКлиентСервер.РазложитьМестоРождения(Параметры.Представление, Ложь);
	
	ОсобоеМестоРождения = ДанныеОМестеРождения.Особое; 
	Город 		        = ДанныеОМестеРождения.НаселенныйПункт;
	Район               = ДанныеОМестеРождения.Район;
	Область             = ДанныеОМестеРождения.Область;
	Страна              = ДанныеОМестеРождения.Страна;
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ КОМАНД ФОРМЫ

&НаКлиенте
Процедура КомандаОК(Команда)
	ДействиеВыбрано = Истина;
	Закрыть(ПолучитьМестоРожденияСтрокой());	
КонецПроцедуры

&НаКлиенте
Процедура КомандаОтмена(Команда)
	ДействиеВыбрано = Истина;
	Закрыть(Неопределено);
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// СЛУЖЕБНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

&НаКлиенте
Функция ПолучитьМестоРожденияСтрокой()
	Возврат	""+?(ОсобоеМестоРождения, "1", "0")+","+СокрЛП(Город)+","+СокрЛП(Район)+","+СокрЛП(Область)+","+СокрЛП(Страна);
КонецФункции	

ДействиеВыбрано = Ложь;


