<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.10570.1001"></meta></head><body>
<p>Призначений для управління томами зберігання файлів.</p>
<p>Використовується в тому випадку, якщо встановлений режим зберігання файлів <strong>В томах на диску</strong>. Для цього в розділі <strong>Адміністрування - Настройка роботи з файлами</strong> увімкніть прапорець <strong>Зберігати файли в томах на диску</strong>, після цього у розділах <strong>Адміністрування - Настройка роботи з файлами</strong> стає доступною команда <strong>Томи зберігання файлів</strong>, з якої відкривається список. При зміні способу зберігання файлів перенесення файлів з програми в томи і назад не відбувається.</p>
<p>У списку виводиться:</p>
<ul><li><strong>Найменування</strong> - найменування тома зберігання файлів; </li><li><strong>Порядок</strong> - ціле число. Заповнення томів здійснюється за порядком заповнення за зростанням до повного заповнення тома; </li><li><strong>Повний шлях Microsoft Windows</strong> - шлях до каталогу тома для сервера під управлінням Microsoft Windows у форматі <strong>UNC</strong>: \\Ім'я комп'ютера\Найменування папки\Найменування файлу\; </li><li><strong>Коментар</strong> - детальна інформація про том. </li><li><strong>Межа, Мб</strong> - можна вказати максимальний розмір всіх файлів в томі (квота тому). Якщо квота встановлена рівною нулю, то при розміщенні файлів в томі вона не перевіряється. При встановленому ненульовому значенні <strong>Максимальний розмір</strong>, якщо сумарний розмір файлів у томі вже перевищує встановлену квоту, то буде використаний наступний за порядком заповнення том. Якщо в жодному з доступних томів не буде достатньо місця для розміщення файлу, то інформація про це записується в <a href="DataProcessor.ЖурналРегистрации/Help">журнал реєстрації</a> і виводиться повідомлення про помилку; </li><li><strong>Повний шлях Linux</strong> - шлях до каталогу для сервера під управлінням Linux.</li></ul><h3>Введення тому зберігання файлів</h3>
<ul><li>Натисніть кнопку <strong>Створити</strong>, заповніть необхідні <a href="Catalog.ТомаХраненияФайлов.Form.ФормаЭлемента/Help">поля</a>. </li><li>Необхідно вказати один або декілька каталогів на жорсткому диску сервера, на якому працює програма, або інших серверів у мережі, які будуть використовуватися для зберігання в них всіх файлів.</li></ul><h3>Правила зберігання файлів в томах</h3>
<ul><li>
<div>Перемикання прапорця <strong>Зберігати файли в томах на диску</strong> зворотної сили не має. Якщо зберігання файлів в томах відключили, то нові файли додаються в саму ІБ, а старі залишаються томах. При цьому папка з томом буде продовжувати використовуватися до того, поки в базі є хоча б один файл. Файли, раніше збережені в тому, відкриваються з цих томів.</div>
</li><li>
<div>Якщо зберегти файл в томі, а потім том вилучити (зовнішніми засобами), то файл буде не знайдений, навіть якщо прапорець <strong>Зберігати файли в томах на диску</strong> вже вимкнений. Увімкнення та вимкнення прапорця не поверне зниклі файли.</div>
</li><li>
<div>Тому якщо програма не знаходить файлів, які зберігалися в томах, слід в повідомленнях про помилку (в журналі реєстрації) показати шлях до папки з томом, перевірити місцезнаходження цієї папки, наявність у ній потрібного файлу, і при необхідності відновити папку. Для здійснення такої можливості необхідно періодично проводити резервне копіювання папок з томами файлів зовнішніми засобами (наприклад, засобами операційної системи).</div></li></ul><h3>Робота з томами зберігання файлів</h3>
<ul><li>При створенні нового томи автоматично перевіряється доступ до зазначеного в полі <strong>Повний шлях</strong> до каталогу, у разі помилки виводиться відповідне повідомлення. </li><li>Заповнення томів здійснюється за порядком (за зростанням) до повного заповнення тому. Цю особливість можна використовувати для тимчасового відключення тому шляхом збільшення йому порядку заповнення. </li><li>Вже створеному тому не можна змінювати шляхи. </li><li>Створений том не можна вилучити до тих пір, поки на нього посилаються будь-які версії файлів. </li><li>Помилки доступу до томів поміщаються в <a href="DataProcessor.ЖурналРегистрации/Help">журнал реєстрації</a> і можуть бути переглянуті адміністратором програми. </li><li>У кожному томі файли зберігаються в підкаталогах за датою так, що на кожен день створюється свій підкаталог. Всі файли в томах зберігаються з оригінальним ім'ям і розширенням, між якими додається номер версії ,наприклад " Наказ.1.txt". </li><li>Після перемикання режиму зберігання файлів (наприклад, значення В<strong> томах на диску</strong>) всі раніше накопичені файли не переміщуються в томи - тільки додані файли будуть розміщуватися згідно з настройкою. Для того щоб <a href="DataProcessor.ПереносФайловВТома/Help">перенести раніше накопичені файли</a> з інформаційної бази в томи, скористайтеся командою <strong>Перенесення файлів в томи</strong>. </li><li>Якщо використовується синхронізація даних між програмою-джерелом і програмою-приймачем і при цьому в програмі-джерелі використовується збереження файлів у томах на дисках, то в процесі <a href="CommonForm.СозданиеНачальногоОбразаСФайлами/Help">створення початкового образу</a> необхідно буде створити архівний файл з томами збережених файлів. </li><li>В процесі отримання початкового образу в програму-приймач необхідно буде вказати і розташування архівного файлу з томами збережених файлів. Для <a href="CommonForm.ВыборПутиКАрхивуФайловТомов/Help">отримання файлів в томах з архіву</a> виконайте команду <strong>Розмістити файли початкового образу</strong>.</li></ul><table width="100%"><tbody><tr><td valign="top" width="36"><img src="CommonPicture.Предупреждение32" width="32" height="32"></img></td>
<td>Примітка <br> Для використання томів, розташованих на мережевих дисках, сервер платформи потрібно запускати від імені доменного користувача виду <strong>domain1\user1</strong>, який має права доступу до тому, вказаною у вигляді UNC шляху. Цей користувач повинен входити в групу <strong>Users</strong> локального комп'ютера, мати права "Run as service" і "Run as batch job" і права на каталоги, в яких сервер платформи зберігає службові файли - журнал реєстрації, каталог тимчасових файлів і пр.</td></tr></tbody></table><h3>Див. також:</h3>
<ul><li><a href="Catalog.Файлы/Help">Загальна інформація про файли</a>; </li><li><a href="v8help://frame/form_common">Робота з формами</a>.<br></li></ul></body></html>