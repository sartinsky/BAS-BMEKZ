<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN"><html><head><meta content="text/html;charset=utf-8" http-equiv="content-type"></meta><link rel="stylesheet" type="text/css" href="v8help://service_book/service_style"></link><meta name="GENERATOR" content="MSHTML 11.00.10570.1001"></meta></head><body>
<p>Призначена для індикації ходу і перегляду результатів відкладеного <a href="DataProcessor.РезультатыОбновленияПрограммы/Help">оновлення ІБ</a>.</p>
<p>При оновленні версії ІБ у програмі передбачена можливість частину даних обробляти відкладено, під час роботи програми, у фоновому режимі. У цьому випадку документи, які ще не були оброблені, будуть недоступні. При спробі відкрити такий документ програма видає повідомлення, що дії з документом тимчасово заборонені, так як не завершено перехід на нову версію програми. Деякі звіти також можуть бути недоступні. Програма при спробі сформувати звіт видає повідомлення, що звіт може містити некоректні дані, так як не завершено перехід на нову версію програми.</p>
<p>Відкривається автоматично при вході в програму після оновлення ІБ одночасно з відкриттям вікна <a href="CommonForm.ОписаниеИзмененийПрограммы/Help">Опис змін програми</a> (<strong>Що нового в конфігурації</strong>).</p>
<p>Відомості про результати відкладеного оновлення версії програми також відкрити з розділу <strong>Адміністрування - Обслуговування - Результати оновлення програми</strong> за командою <strong>Результати оновлення і додаткова обробка даних</strong>, а також з вікна <strong>Що нового в конфігурації</strong>, перейшовши за посиланням <strong>Необхідно виконати додаткові процедури обробки даних</strong>. Після початку виконання посилання змінює значення на <strong>Виконуються додаткові процедури обробки даних</strong>.</p>
<h3>Інформація про проведене оновлення ІБ</h3>
<ul><li>Вказується, на яку версію проведено оновлення, дата і час оновлення, тривалість процесу оновлення.</li></ul><h3>Перегляд журналу реєстрації</h3>
<ul><li>Перейдіть за посиланням <strong>Технічна інформація про результати оновлення</strong>, для того щоб переглянути події оновлення ІБ в <a href="DataProcessor.ЖурналРегистрации/Help">журналі реєстрації</a>.</li></ul><h3>Виконання процедур обробки даних</h3>
<ul><li>Якщо процедури обробки даних ще не були запущені, то посилання приймає значення <strong>Список процедур обробки даних</strong>. Перейдіть за посиланням, для того щоб переглянути <a href="DataProcessor.РезультатыОбновленияПрограммы.Form.ОтложенныеОбработчики/Help">список додаткових процедур</a>. </li><li>Натисніть <strong>Виконати</strong>, для того щоб почати обробку даних. </li><li>Якщо виконання розпочато, то посилання вказує, скільки процедур виконано. </li><li>Після завершення додаткових процедур обробки даних вказується дата і час їх завершення. Посилання приймає значення <strong>Всі процедури оновлення виконані успішно</strong> (в дужках вказується кількість виконаних процедур).</li></ul><h3>Встановлення пріоритету</h3>
<ul><li>
<div>Програма дозволяє прискорити обробку даних. Для цього передбачена можливість підвищення пріоритету обробки даних над роботою користувачів в програмі. Це зменшує час, що витрачається на відкладене оновлення.</div>
</li><li>
<div>За допомогою перемикача <strong>Пріоритет</strong> можна встановити, що під час відкладеної обробки даних важливіший:</div>
<ul><li>
<div><strong>Робота користувачів</strong> - дані обробляються повільніше, менше навантаження на сервер і вплив на роботу користувачів в програмі;</div>
</li><li>
<div><strong>Обробка даних</strong> - вища швидкість обробки даних, але вище і навантаження на сервер, у зв'язку з цим відбувається істотне уповільнення роботи користувачів в програмі. </div>
<ul><li>
<div>При установці пріоритету за обробкою даних забирається затримка між запусками регламентного завдання з відкладеної обробки даних. </div>
</li><li>
<div>Рекомендується використовувати в тих випадках, коли необхідно швидше отримати доступ до даних, що обробляються.</div></li></ul></li></ul></li><li>
<div>При підвищенні пріоритету виконання додаткової процедури обробки даних також підвищується пріоритет тих процедур, від яких вона залежить.</div></li></ul><h3>Багатопотокове оновлення</h3>
<ul><li>
<div>Якщо перемикач <strong>Пріоритет</strong> встановлений в положення <strong>Обробка даних</strong>, то передбачена можливість організувати оновлення в кілька потоків, завантажуючи всі ядра ЦП.</div>
</li><li>
<div>При багатопотоковому оновленні регламентне завдання <strong>Відкладене оновлення ІБ</strong> управляє оновленням, тобто запускає фонові завдання (ФЗ). Тільки це регламентне завдання звертається до загальних ресурсів. Тільки це регламентне завдання звертається до загальних ресурсів. Для кожної порції оновлення даних запускається окреме ФЗ (не більше N одночасно, де N - кількість ядер ЦП). Робочі ФЗ готують оточення, виконують обробник оновлення і зберігають результат.</div>
</li><li>
<div>Визначте, скільки ядер ЦП сумарно на всіх робочих серверах кластера, наприклад, робочих серверів 2 і на кожному сумарно 8 ядер, отже сумарно доступно 16 ядер ЦП.</div>
</li><li>
<div>Встановіть оновлення з пріоритетом обробки даних;</div>
</li><li>
<div>Вкажіть кількість потоків, що дорівнює кількості ядер ЦП;</div>
</li><li>
<div>Настройте розклад (наприклад, на оновлення тільки в неробочий час, щоб не заважати роботі користувачів).</div>
<ul><li>
<div>Кількість потоків і розклад можна міняти в будь-який час. Механізм оновлення враховує ці зміни відразу:</div>
</li><li>
<div>Якщо кількість потоків збільшено, то запустяться відсутні ФЗ,</div>
</li><li>
<div>Якщо кількість потоків зменшено, то завершаться надлишкові ФЗ, а зайві не запустяться;</div>
</li><li>
<div>Якщо розклад змінити так, що зараз не потрібно оновлювати, то робочі потоки завершать поточну роботу і регламентне завдання завершиться (до наступного спрацьовування за розкладом).</div></li></ul></li></ul><h3>Настройка розкладу обробки даних</h3>
<ul><li>Як правило, обробка даних може займати тривалий час (від декількох хвилин до декількох годин в залежності від обсягу введених даних в програмі і продуктивності комп'ютера), а також під час її виконання може спостерігатися суттєве уповільнення роботи користувачів. Тому рекомендується виконувати обробку в період найменшої активності користувачів. </li><li>У клієнт-серверному режимі можна налаштувати розклад регламентного завдання <strong>Відкладене оновлення ІБ</strong>. Для того щоб налаштувати виконання регламентного завдання <strong>Відкладене оновлення ІБ</strong>, натисніть <strong>Настроїти розклад</strong>. </li><li>Також можна налаштувати <a href="DataProcessor.РегламентныеИФоновыеЗадания.Form.РегламентноеЗадание/Help">регламентне завдання</a> з загального<a href="DataProcessor.РегламентныеИФоновыеЗадания/Help"> списку регламентних і фонових завдань</a>  за відповідною командою розділу <strong>Адміністрування - Підтримка та обслуговування - Регламентні операції</strong>. </li></ul><h3>Перевірка блокування регламентних завдань</h3>
<ul><li>
<div>Якщо в клієнт-серверному режимі встановлено блокування регламентних завдань, то відкладене оновлення не буде виконуватися. </div>
</li><li>
<div>Проконтролювати блокування можна:</div>
<ul><li>
<div>За допомогою посилання <strong>Перевірити блокування регламентних завдань</strong>;</div>
</li><li>
<div>За допомогою консолі адміністрування кластера серверів. Детальніше про консоль див. документацію про платформу.</div>
<ul><li>
<div>Запустити консоль можна з меню <strong>Пуск</strong>, вибравши розділ <strong>Всі програми - Програма платформи - Додатково</strong>. </div>
</li><li>
<div>Для відображення властивостей окремої інформаційної бази виберіть потрібний центральний сервер, потрібний кластер, потрібну інформаційну базу.</div>
</li><li>
<div>Для перегляду параметрів інформаційної бази натисніть по імені інформаційної бази в списку правою кнопкою миші.</div>
</li><li>
<div>Знайдіть у списку параметрів інформаційної бази відомості про блокування користувачів і регламентних завдань.</div>
</li><li>
<div>Детальніше про блокування обраної інформаційної бази можна дізнатися, вибравши групу <strong>Блокування</strong> в дереві консолі.</div></li></ul></li></ul></li></ul></body></html>