#Область ОбработчикиСобытийФормы
	
Процедура ПередЗаписью(Отказ, Замещение) 
	
	Если ЭтотОбъект.Количество() <> 0 Тогда
		
		КоличествоСтрок = ЭтотОбъект.Количество() - 1;
		
		Пока КоличествоСтрок >= 0 Цикл
			
			СтрокаЗаписи = ЭтотОбъект[КоличествоСтрок];
			
			Если СтрокаЗаписи.СтатьяЗатрат.ВидЗатрат <> Перечисления.ВидыЗатрат.Материальные Тогда 			
				ЭтотОбъект.Удалить(СтрокаЗаписи);  
			Иначе 
				Если СтрокаЗаписи.СчетЗатрат.ВидыСубконто.Найти(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.Подразделения, "ВидСубконто") = Неопределено
					И ЗначениеЗаполнено(СтрокаЗаписи.Подразделение) Тогда 
					СтрокаЗаписи.Подразделение = Справочники.ПодразделенияОрганизаций.ПустаяСсылка();
				КонецЕсли;
				
				Если СтрокаЗаписи.СчетЗатрат.ВидыСубконто.Найти(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.НоменклатурныеГруппы, "ВидСубконто") = Неопределено
					И ЗначениеЗаполнено(СтрокаЗаписи.НоменклатурнаяГруппа) Тогда 
					СтрокаЗаписи.НоменклатурнаяГруппа = Справочники.НоменклатурныеГруппы.ПустаяСсылка();
				КонецЕсли;
				
				Если СтрокаЗаписи.СчетЗатрат.ВидыСубконто.Найти(ПланыВидовХарактеристик.ВидыСубконтоХозрасчетные.СтатьиЗатрат, "ВидСубконто") = Неопределено
					И ЗначениеЗаполнено(СтрокаЗаписи.СтатьяЗатрат) Тогда 
					СтрокаЗаписи.СтатьяЗатрат = Справочники.СтатьиЗатрат.ПустаяСсылка();
				КонецЕсли;  
			КонецЕсли;			
			
			КоличествоСтрок = КоличествоСтрок - 1;
			
		КонецЦикла;
		
	КонецЕсли;
	
КонецПроцедуры  

#КонецОбласти 


                      