<ПравилаОбмена>
	<ВерсияФормата РежимСовместимости="">2.01</ВерсияФормата>
	<Ид>1659ccb2-54a4-422d-9a3f-7518abebb843    </Ид>
	<Наименование>BASРозничнаяТорговля --&gt; BASБухгалтерия</Наименование>
	<ДатаВремяСоздания>2021-06-04T17:10:27</ДатаВремяСоздания>
	<Источник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.2.12.1" СинонимКонфигурации="Business automation software for retail">BASРозничнаяТорговля</Источник>
	<Приемник ВерсияПлатформы="8.0" ВерсияКонфигурации="2.1.15.1" СинонимКонфигурации="Business automation software for accounting">BASБухгалтерия</Приемник>
	<ПередПолучениемИзмененныхОбъектов>//Параметры.Вставить("УзелДляОбменаСсылка",                          УзелДляОбмена.Ссылка);
//Параметры.Вставить("УзелИспользоватьОтборПоОрганизации",           УзелДляОбмена.ИспользоватьОтборПоОрганизациям);
//Параметры.Вставить("УзелДатаНачалаВыгрузкиДокументов",             УзелДляОбмена.ДатаНачалаВыгрузкиДокументов);</ПередПолучениемИзмененныхОбъектов>
	<ПередВыгрузкойДанных>Параметры.Контрагенты = Новый Массив();

СписокОбъектовСозданныхВТекущемСеансеОбмена = Новый Массив;
Параметры.Вставить("СписокОбъектовСозданныхВТекущемСеансеОбмена", СписокОбъектовСозданныхВТекущемСеансеОбмена);

СписокОбъектовДляВыгрузкиКонтактнойИнформации = Новый Соответствие;
Параметры.Вставить("СписокОбъектовДляВыгрузкиКонтактнойИнформации", СписокОбъектовДляВыгрузкиКонтактнойИнформации);

ДатыИзмененияЦен = Новый ТаблицаЗначений;
ДатыИзмененияЦен.Колонки.Добавить("ДатаИзменения", Новый ОписаниеТипов("Дата"));
Параметры.Вставить("ДатыИзмененияЦен", ДатыИзмененияЦен);

Параметры.ОсновнаяОрганизация = ЗначениеНастроекПовтИсп.ПолучитьЗначениеПоУмолчаниюПользователя(Пользователи.ТекущийПользователь(), "ОсновнаяОрганизация", );

//Параметры.Вставить("ВалютаРегламентированногоУчета", Константы.ВалютаРегламентированногоУчета.Получить());</ПередВыгрузкойДанных>
	<ПослеВыгрузкиДанных>Если Параметры.СписокОбъектовСозданныхВТекущемСеансеОбмена.Количество() &lt;&gt; 0 Тогда
	
	ПланыОбмена.ВыбратьИзменения(Параметры.УзелДляОбменаСсылка, ЗаписьСообщения.НомерСообщения, 
		Параметры.СписокОбъектовСозданныхВТекущемСеансеОбмена);
		
КонецЕсли;</ПослеВыгрузкиДанных>
	<ПередЗагрузкойДанных>Параметры.Вставить("ВалютаРегламентированногоУчета", Константы.ВалютаРегламентированногоУчета.Получить());
//Параметры.ВалютаРегламентированногоУчета = Константы.ВалютаРегламентированногоУчета.Получить();
//Параметры.ОсновнаяОрганизация = ЗначениеНастроекПовтИсп.ПолучитьОрганизациюПоУмолчанию(Организация,ПользователиИнформационнойБазы.ТекущийПользователь());</ПередЗагрузкойДанных>
	<ПередКонвертациейОбъекта>Если ТипЗнч(ВходящиеДанные) &lt;&gt; Тип("Структура") Тогда
	ВходящиеДанные = Новый Структура;
КонецЕсли;</ПередКонвертациейОбъекта>
	<ПриПолученииИнформацииОбУдалении>МетаданныеОбъекта = Объект.Метаданные();
Если Метаданные.Справочники.Содержит(МетаданныеОбъекта) Тогда
	Отказ  = Истина;
	Если НЕ Объект.Предопределенный Тогда
		УстановитьПометкуУдаленияУОбъекта(Объект, Истина, "Справочник");
	КонецЕсли;
ИначеЕсли Метаданные.Документы.Содержит(МетаданныеОбъекта) Тогда
	Отказ  = Истина;
	Если Объект.Проведен Тогда
		ОтменитьПроведениеОбъектаВИБ(Объект, ТипЗнч(Объект), Истина);
	КонецЕсли;
	УстановитьПометкуУдаленияУОбъекта(Объект, Истина, "Документ");
ИначеЕсли Метаданные.ПланыВидовХарактеристик.Содержит(МетаданныеОбъекта) Тогда
	Отказ  = Истина;
	Если НЕ Объект.Предопределенный Тогда
		УстановитьПометкуУдаленияУОбъекта(Объект, Истина, "ПланВидовХарактеристик");
	КонецЕсли;
КонецЕсли;</ПриПолученииИнформацииОбУдалении>
	<Параметры>
		<Параметр Имя="ВалютаРегламентированногоУчета                    " Наименование="ВалютаРегламентированногоУчета" ИспользуетсяПриЗагрузке="true" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="Контрагенты                                       " Наименование="Контрагенты" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ОбъектыКУдалению                                  " Наименование="ОбъектыКУдалению" ИспользуетсяПриЗагрузке="true" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="ОсновнаяОрганизация                               " Наименование="ОсновнаяОрганизация" ИспользуетсяПриЗагрузке="true" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="Пользователь                                      " Наименование="Пользователь" ИспользуетсяПриЗагрузке="false" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
		<Параметр Имя="СкладДляОбменаДаннымиСУТ                          " Наименование="СкладДляОбменаДаннымиСУТ" ИспользуетсяПриЗагрузке="true" УстанавливатьВДиалоге="false" ПередаватьПараметрПриВыгрузке="false"/>
	</Параметры>
	<Обработки/>
	<ПравилаКонвертацииОбъектов>
		<Группа>
			<Код>Перечисления</Код>
			<Наименование>Перечисления</Наименование>
			<Порядок>50</Порядок>
			<Правило>
				<Код>СтавкиНДС</Код>
				<Наименование>Перечисление: Ставки НДС</Наименование>
				<Порядок>50</Порядок>
				<Источник>ПеречислениеСсылка.СтавкиНДС</Источник>
				<Приемник>ПеречислениеСсылка.СтавкиНДС</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БезНДС --&gt; БезНДС</Наименование>
						<Порядок>50</Порядок>
						<Источник>БезНДС</Источник>
						<Приемник>БезНДС</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>НДС0 --&gt; НДС0</Наименование>
						<Порядок>100</Порядок>
						<Источник>НДС0</Источник>
						<Приемник>НДС0</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>СпецСт8 --&gt; СпецСт8</Наименование>
						<Порядок>320</Порядок>
						<Источник>СпецСт8</Источник>
						<Приемник>НДС20</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>НДС20 --&gt; НДС20</Наименование>
						<Порядок>250</Порядок>
						<Источник>НДС20</Источник>
						<Приемник>НДС20</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>НеНДС --&gt; НеНДС</Наименование>
						<Порядок>300</Порядок>
						<Источник>НеНДС</Источник>
						<Приемник>НеНДС</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>НДС7 --&gt; НДС7</Наименование>
						<Порядок>350</Порядок>
						<Источник>НДС7</Источник>
						<Приемник>НДС7</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>НДС14 --&gt; НДС14</Наименование>
						<Порядок>400</Порядок>
						<Источник>НДС14</Источник>
						<Приемник>НДС14</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийКомплектацияНоменклатуры</Код>
				<Наименование>Перечисление: Виды операций документа "Комплектация нменклатуры"</Наименование>
				<Порядок>100</Порядок>
				<Источник>ПеречислениеСсылка.ВидыОперацийКомплектацияНоменклатуры</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийКомплектацияНоменклатуры</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Комплектация --&gt; Комплектация</Наименование>
						<Порядок>50</Порядок>
						<Источник>Комплектация</Источник>
						<Приемник>Комплектация</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Разукомплектация --&gt; Разукомплектация</Наименование>
						<Порядок>100</Порядок>
						<Источник>Разукомплектация</Источник>
						<Приемник>Разукомплектация</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДнейПроизводственногоКалендаря</Код>
				<Наименование>Перечисление: Виды дней производственного календаря</Наименование>
				<Порядок>150</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДнейПроизводственногоКалендаря</Источник>
				<Приемник>ПеречислениеСсылка.ВидыДнейПроизводственногоКалендаря</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Воскресенье --&gt; Воскресенье</Наименование>
						<Порядок>50</Порядок>
						<Источник>Воскресенье</Источник>
						<Приемник>Воскресенье</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Праздник --&gt; Праздник</Наименование>
						<Порядок>100</Порядок>
						<Источник>Праздник</Источник>
						<Приемник>Праздник</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Предпраздничный --&gt; Предпраздничный</Наименование>
						<Порядок>150</Порядок>
						<Источник>Предпраздничный</Источник>
						<Приемник>Предпраздничный</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Рабочий --&gt; Рабочий</Наименование>
						<Порядок>200</Порядок>
						<Источник>Рабочий</Источник>
						<Приемник>Рабочий</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Суббота --&gt; Суббота</Наименование>
						<Порядок>250</Порядок>
						<Источник>Суббота</Источник>
						<Приемник>Суббота</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыДополнительныхВнешнихОбработок</Код>
				<Наименование>Перечисление: Виды дополнительных внешних обработок</Наименование>
				<Порядок>200</Порядок>
				<Источник>ПеречислениеСсылка.ВидыДополнительныхОтчетовИОбработок</Источник>
				<Приемник>ПеречислениеСсылка.ВидыДополнительныхОтчетовИОбработок</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>2</Код>
						<Наименование>Обработка --&gt; Обработка</Наименование>
						<Порядок>100</Порядок>
						<Источник>ДополнительнаяОбработка</Источник>
						<Приемник>ДополнительнаяОбработка</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Отчет --&gt; Отчет</Наименование>
						<Порядок>150</Порядок>
						<Источник>Отчет</Источник>
						<Приемник>Отчет</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПечатнаяФорма --&gt; ПечатнаяФорма</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПечатнаяФорма</Источник>
						<Приемник>ПечатнаяФорма</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийПКО</Код>
				<Наименование>Перечисление: Виды операций документа "ПКО"</Наименование>
				<Порядок>300</Порядок>
				<Источник>ПеречислениеСсылка.ХозяйственныеОперации</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийПКО</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВозвратДенежныхСредствПоставщиком --&gt; ВозвратДенеж</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВозвратДенежныхСредствОтПоставщика</Источник>
						<Приемник>ВозвратДенежныхСредствПоставщиком</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ОплатаПокупателя --&gt; ОплатаПокупателя</Наименование>
						<Порядок>100</Порядок>
						<Источник>ПоступлениеОплатыОтКлиента</Источник>
						<Приемник>ОплатаПокупателя</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПриходДенежныхСредствПрочее --&gt; ПриходДенежныхСред</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПрочиеДоходы</Источник>
						<Приемник>ПриходДенежныхСредствПрочее</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПрочиеРасчетыСКонтрагентами --&gt; ОплатаПокупателя</Наименование>
						<Порядок>200</Порядок>
						<Источник>ПоступлениеДенежныхСредствИзБанка</Источник>
						<Приемник>ПолучениеНаличныхДенежныхСредствВБанке</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийРКО</Код>
				<Наименование>Перечисление: Виды операций документа "РКО"</Наименование>
				<Порядок>350</Порядок>
				<Источник>ПеречислениеСсылка.ХозяйственныеОперации</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийРКО</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВозвратДенежныхСредствПокупателю --&gt; ВозвратДенежн</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВыдачаДенежныхСредствИзКассыККМ</Источник>
						<Приемник>ВозвратДенежныхСредствПокупателю</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ОплатаПоставщику --&gt; ОплатаПоставщику</Наименование>
						<Порядок>100</Порядок>
						<Источник>ОплатаПоставщику</Источник>
						<Приемник>ОплатаПоставщику</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>РасходДенежныхСредствПрочее --&gt; РасходДенежныхСред</Наименование>
						<Порядок>150</Порядок>
						<Приемник>ИнкассацияДенежныхСредств</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ПрочиеРасчетыСКонтрагентами --&gt; ОплатаПоставщику</Наименование>
						<Порядок>200</Порядок>
						<Приемник>ОплатаПоставщику</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>ВозвратОплатыКлиенту --&gt; ВозвратДенежныхСредствПок</Наименование>
						<Порядок>250</Порядок>
						<Источник>ВозвратОплатыКлиенту</Источник>
						<Приемник>ВозвратДенежныхСредствПокупателю</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>ВыплатаЗаработнойПлатыПоВедомостям --&gt; ВыплатаЗара</Наименование>
						<Порядок>300</Порядок>
						<Источник>ВыплатаЗаработнойПлатыПоВедомостям</Источник>
						<Приемник>ВыплатаЗаработнойПлатыПоВедомостям</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ВыплатаЗаработнойПлатыРаботнику --&gt; ВыплатаЗаработ</Наименование>
						<Порядок>350</Порядок>
						<Источник>ВыплатаЗаработнойПлатыРаботнику</Источник>
						<Приемник>ВыплатаЗаработнойПлатыРаботнику</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ДействиеПриОбмене</Код>
				<Наименование>Перечисление: Действие при обмене</Наименование>
				<Порядок>450</Порядок>
				<Источник>ПеречислениеСсылка.ДействияПриОбмене</Источник>
				<Приемник>ПеречислениеСсылка.ДействияПриОбмене</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВыгрузкаДанных --&gt; ВыгрузкаДанных</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВыгрузкаДанных</Источник>
						<Приемник>ВыгрузкаДанных</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЗагрузкаДанных --&gt; ЗагрузкаДанных</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЗагрузкаДанных</Источник>
						<Приемник>ЗагрузкаДанных</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ОтветственныеЛицаОрганизаций</Код>
				<Наименование>Перечисление: Ответственные лица организаций</Наименование>
				<Порядок>500</Порядок>
				<Источник>ПеречислениеСсылка.ОтветственныеЛицаОрганизаций</Источник>
				<Приемник>ПеречислениеСсылка.ОтветственныеЛицаОрганизаций</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ГлавныйБухгалтер --&gt; ГлавныйБухгалтер</Наименование>
						<Порядок>50</Порядок>
						<Источник>ГлавныйБухгалтер</Источник>
						<Приемник>ГлавныйБухгалтер</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Кассир --&gt; Кассир</Наименование>
						<Порядок>100</Порядок>
						<Источник>Кассир</Источник>
						<Приемник>Кассир</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Руководитель --&gt; Руководитель</Наименование>
						<Порядок>150</Порядок>
						<Источник>Руководитель</Источник>
						<Приемник>Руководитель</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Периодичность</Код>
				<Наименование>Перечисление: Периодичность</Наименование>
				<Порядок>550</Порядок>
				<Источник>ПеречислениеСсылка.Периодичность</Источник>
				<Приемник>ПеречислениеСсылка.Периодичность</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Год --&gt; Год</Наименование>
						<Порядок>50</Порядок>
						<Источник>Год</Источник>
						<Приемник>Год</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>День --&gt; День</Наименование>
						<Порядок>100</Порядок>
						<Источник>День</Источник>
						<Приемник>День</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Квартал --&gt; Квартал</Наименование>
						<Порядок>150</Порядок>
						<Источник>Квартал</Источник>
						<Приемник>Квартал</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Месяц --&gt; Месяц</Наименование>
						<Порядок>200</Порядок>
						<Источник>Месяц</Источник>
						<Приемник>Месяц</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Неделя --&gt; Неделя</Наименование>
						<Порядок>250</Порядок>
						<Источник>Неделя</Источник>
						<Приемник>Неделя</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПолФизическогоЛица</Код>
				<Наименование>Перечисление: Пол физических лиц</Наименование>
				<Порядок>600</Порядок>
				<Источник>ПеречислениеСсылка.ПолФизическогоЛица</Источник>
				<Приемник>ПеречислениеСсылка.ПолФизическогоЛица</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Женский --&gt; Женский</Наименование>
						<Порядок>50</Порядок>
						<Источник>Женский</Источник>
						<Приемник>Женский</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Мужской --&gt; Мужской</Наименование>
						<Порядок>100</Порядок>
						<Источник>Мужской</Источник>
						<Приемник>Мужской</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПорядкиОкругления</Код>
				<Наименование>Перечисление: Порядки округления</Наименование>
				<Порядок>650</Порядок>
				<Источник>ПеречислениеСсылка.ПорядкиОкругления</Источник>
				<Приемник>ПеречислениеСсылка.ПорядкиОкругления</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Окр0_01 --&gt; Окр0_01</Наименование>
						<Порядок>50</Порядок>
						<Источник>Окр0_01</Источник>
						<Приемник>Окр0_01</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Окр0_05 --&gt; Окр0_05</Наименование>
						<Порядок>100</Порядок>
						<Источник>Окр0_05</Источник>
						<Приемник>Окр0_05</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>Окр0_1 --&gt; Окр0_1</Наименование>
						<Порядок>150</Порядок>
						<Источник>Окр0_1</Источник>
						<Приемник>Окр0_1</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Окр0_5 --&gt; Окр0_5</Наименование>
						<Порядок>200</Порядок>
						<Источник>Окр0_5</Источник>
						<Приемник>Окр0_5</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Окр1 --&gt; Окр1</Наименование>
						<Порядок>250</Порядок>
						<Источник>Окр1</Источник>
						<Приемник>Окр1</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Окр10 --&gt; Окр10</Наименование>
						<Порядок>300</Порядок>
						<Источник>Окр10</Источник>
						<Приемник>Окр10</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Окр100 --&gt; Окр100</Наименование>
						<Порядок>350</Порядок>
						<Источник>Окр100</Источник>
						<Приемник>Окр100</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>Окр5 --&gt; Окр5</Наименование>
						<Порядок>400</Порядок>
						<Источник>Окр5</Источник>
						<Приемник>Окр5</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>Окр50 --&gt; Окр50</Наименование>
						<Порядок>450</Порядок>
						<Источник>Окр50</Источник>
						<Приемник>Окр50</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ПриоритетОбъектовОбмена</Код>
				<Наименование>Перечисление: Приоритет объектов обмена</Наименование>
				<Порядок>750</Порядок>
				<Источник>ПеречислениеСсылка.ПриоритетыОбъектовОбмена</Источник>
				<Приемник>ПеречислениеСсылка.ПриоритетыОбъектовОбмена</Приемник>
				<Свойства/>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ТипыКонтактнойИнформации</Код>
				<Наименование>Перечисление: Типы контактной информации</Наименование>
				<Порядок>1100</Порядок>
				<Источник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Источник>
				<Приемник>ПеречислениеСсылка.ТипыКонтактнойИнформации</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Адрес --&gt; Адрес</Наименование>
						<Порядок>50</Порядок>
						<Источник>Адрес</Источник>
						<Приемник>Адрес</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>АдресЭлектроннойПочты --&gt; АдресЭлектроннойПочты</Наименование>
						<Порядок>100</Порядок>
						<Источник>АдресЭлектроннойПочты</Источник>
						<Приемник>АдресЭлектроннойПочты</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ВебСтраница --&gt; ВебСтраница</Наименование>
						<Порядок>150</Порядок>
						<Источник>ВебСтраница</Источник>
						<Приемник>ВебСтраница</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>Другое --&gt; Другое</Наименование>
						<Порядок>200</Порядок>
						<Источник>Другое</Источник>
						<Приемник>Другое</Приемник>
					</Значение>
					<Значение>
						<Код>5</Код>
						<Наименование>Телефон --&gt; Телефон</Наименование>
						<Порядок>250</Порядок>
						<Источник>Телефон</Источник>
						<Приемник>Телефон</Приемник>
					</Значение>
					<Значение>
						<Код>6</Код>
						<Наименование>Факс --&gt; Факс</Наименование>
						<Порядок>300</Порядок>
						<Источник>Факс</Источник>
						<Приемник>Факс</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>Skype --&gt; Skype</Наименование>
						<Порядок>350</Порядок>
						<Источник>Skype</Источник>
						<Приемник>Skype</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыСкладов</Код>
				<Наименование>Перечисление: Типы складов</Наименование>
				<Порядок>1250</Порядок>
				<Источник>ПеречислениеСсылка.ТипыСкладов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыСкладов</Приемник>
				<Свойства/>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЮрФизЛицо</Код>
				<Наименование>Перечисление: Юр. / физ. лицо</Наименование>
				<Порядок>1450</Порядок>
				<Источник>ПеречислениеСсылка.ЮрФизЛицо</Источник>
				<Приемник>ПеречислениеСсылка.ЮридическоеФизическоеЛицо</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ФизЛицо --&gt;</Наименование>
						<Порядок>50</Порядок>
						<Источник>ФизЛицо</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ЮрЛицо --&gt;</Наименование>
						<Порядок>100</Порядок>
						<Источник>ЮрЛицо</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ИндивидуальныйПредприниматель --&gt; ФизическоеЛицо</Наименование>
						<Порядок>150</Порядок>
						<Источник>ИндивидуальныйПредприниматель</Источник>
						<Приемник>ФизическоеЛицо</Приемник>
					</Значение>
					<Значение>
						<Код>4</Код>
						<Наименование>ЮрЛицоНеРезидент --&gt; ЮридическоеЛицо</Наименование>
						<Порядок>200</Порядок>
						<Источник>ЮрЛицоНеРезидент</Источник>
						<Приемник>ЮридическоеЛицо</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийОплатаОтПокупателяПлатежнойКартой</Код>
				<Наименование>Перечисление: Виды операций документа "Оплата от покупателя платежной картой"</Наименование>
				<Порядок>1550</Порядок>
				<Источник>ПеречислениеСсылка.ХозяйственныеОперации</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийКорректировкаДолга</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВозвратДенежныхСредствПокупателю --&gt; СписаниеЗадол</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВозвратОплатыКлиенту</Источник>
						<Приемник>ПереносЗадолженности</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ОплатаПокупателя --&gt; ПереносЗадолженности</Наименование>
						<Порядок>100</Порядок>
						<Источник>ВозвратОтПокупателя</Источник>
						<Приемник>ПереносЗадолженности</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СтатусыИзвлеченияТекстаФайлов</Код>
				<Наименование>Перечисление: Статусы извлечения текста файлов</Наименование>
				<Порядок>1600</Порядок>
				<Источник>ПеречислениеСсылка.СтатусыИзвлеченияТекстаФайлов</Источник>
				<Приемник>ПеречислениеСсылка.СтатусыИзвлеченияТекстаФайлов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Извлечен --&gt; Извлечен</Наименование>
						<Порядок>50</Порядок>
						<Источник>Извлечен</Источник>
						<Приемник>Извлечен</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ИзвлечьНеУдалось --&gt; ИзвлечьНеУдалось</Наименование>
						<Порядок>100</Порядок>
						<Источник>ИзвлечьНеУдалось</Источник>
						<Приемник>ИзвлечьНеУдалось</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>НеИзвлечен --&gt; НеИзвлечен</Наименование>
						<Порядок>150</Порядок>
						<Источник>НеИзвлечен</Источник>
						<Приемник>НеИзвлечен</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыХраненияФайлов</Код>
				<Наименование>Перечисление: Типы хранения файлов</Наименование>
				<Порядок>1650</Порядок>
				<Источник>ПеречислениеСсылка.ТипыХраненияФайлов</Источник>
				<Приемник>ПеречислениеСсылка.ТипыХраненияФайлов</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВИнформационнойБазе --&gt; ВИнформационнойБазе</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВИнформационнойБазе</Источник>
						<Приемник>ВИнформационнойБазе</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>ВТомахНаДиске --&gt; ВТомахНаДиске</Наименование>
						<Порядок>100</Порядок>
						<Источник>ВТомахНаДиске</Источник>
						<Приемник>ВТомахНаДиске</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыОперацийСписаниеТоваров</Код>
				<Наименование>Перечисление: Хозяйственные операции</Наименование>
				<Порядок>1700</Порядок>
				<Источник>ПеречислениеСсылка.ХозяйственныеОперации</Источник>
				<Приемник>ПеречислениеСсылка.ВидыОперацийСписаниеТоваров</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>СписаниеНаЗатраты --&gt; ТоварыПродукция</Наименование>
						<Порядок>50</Порядок>
						<Источник>СписаниеНаЗатраты</Источник>
						<Приемник>ТоварыПродукция</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>СписаниеПоИнвентаризации --&gt; ТоварыПродукция</Наименование>
						<Порядок>100</Порядок>
						<Источник>СписаниеПоИнвентаризации</Источник>
						<Приемник>ТоварыПродукция</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ТипыОплат</Код>
				<Наименование>Перечисление: Типы оплат чека ККМ</Наименование>
				<Порядок>1750</Порядок>
				<Источник>ПеречислениеСсылка.ТипыОплатЧекаККМ</Источник>
				<Приемник>ПеречислениеСсылка.ТипыОплат</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>БанковскийКредит --&gt; БанковскийКредит</Наименование>
						<Порядок>50</Порядок>
						<Источник>БанковскийКредит</Источник>
						<Приемник>БанковскийКредит</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>Наличные --&gt; Наличные</Наименование>
						<Порядок>100</Порядок>
						<Источник>Наличные</Источник>
						<Приемник>Наличные</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>ПлатежнаяКарта --&gt; ПлатежнаяКарта</Наименование>
						<Порядок>150</Порядок>
						<Источник>ПлатежнаяКарта</Источник>
						<Приемник>ПлатежнаяКарта</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ВидыКодовДляНалоговойНакладной</Код>
				<Наименование>Перечисление: Виды кодов для налоговой накладной</Наименование>
				<Порядок>1800</Порядок>
				<Источник>ПеречислениеСсылка.ВидыКодовДляНалоговойНакладной</Источник>
				<Приемник>ПеречислениеСсылка.ВидыКодовДляНалоговойНакладной</Приемник>
				<Свойства/>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>КодТовара --&gt; КодТовара</Наименование>
						<Порядок>50</Порядок>
						<Источник>КодТовара</Источник>
						<Приемник>КодТовара</Приемник>
					</Значение>
					<Значение>
						<Код>2</Код>
						<Наименование>КодТовараИмпортированного --&gt; КодТовараИмпортирова</Наименование>
						<Порядок>100</Порядок>
						<Источник>КодТовараИмпортированного</Источник>
						<Приемник>КодТовараИмпортированного</Приемник>
					</Значение>
					<Значение>
						<Код>3</Код>
						<Наименование>КодУслуги --&gt; КодУслуги</Наименование>
						<Порядок>150</Порядок>
						<Источник>КодУслуги</Источник>
						<Приемник>КодУслуги</Приемник>
					</Значение>
				</Значения>
			</Правило>
		</Группа>
		<Группа>
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>100</Порядок>
			<Правило>
				<Код>ПравилаЦенообразования</Код>
				<Наименование>Справочник: Правила ціноутворення</Наименование>
				<Порядок>50</Порядок>
				<ПослеЗагрузки>Объект.ВалютаЦены = Параметры.ВалютаРегламентированногоУчета;
Объект.ПорядокОкругления = Перечисления.ПорядкиОкругления.Окр0_01;
Объект.ОкруглятьВБольшуюСторону = Ложь;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.ПравилаЦенообразования</Источник>
				<Приемник>СправочникСсылка.ТипыЦенНоменклатуры</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ЦенаВключаетНДС --&gt; ЦенаВключаетНДС</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ЦенаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ФизическиеЛица</Код>
				<Наименование>Справочник: Физические лица</Наименование>
				<Порядок>100</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ФизическиеЛица</Источник>
				<Приемник>СправочникСсылка.ФизическиеЛица</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>ДатаРождения --&gt; ДатаРождения</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаРождения" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Пол --&gt; Пол</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
						<Приемник Имя="Пол" Вид="Реквизит" Тип="ПеречислениеСсылка.ПолФизическогоЛица"/>
						<КодПравилаКонвертации>ПолФизическогоЛица                                </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>8</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки> Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>9</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>10</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
					<Группа>
						<Код>12</Код>
						<Наименование>КонтактнаяИнформация --&gt; КонтактнаяИнформация</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="КонтактнаяИнформация" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки> Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>13</Код>
							<Наименование>АдресЭП --&gt; АдресЭП</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="АдресЭП" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Вид --&gt; Вид</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<Приемник Имя="Вид" Вид="Реквизит" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Город --&gt; Город</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Город" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Город" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>ДоменноеИмяСервера --&gt; ДоменноеИмяСервера</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ДоменноеИмяСервера" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>ЗначенияПолей --&gt; ЗначенияПолей</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ЗначенияПолей" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>НомерТелефона --&gt; НомерТелефона</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефона" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>НомерТелефонаБезКодов --&gt; НомерТелефонаБезКодов</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="НомерТелефонаБезКодов" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>Представление --&gt; Представление</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Представление" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Страна --&gt; Страна</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="Страна" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>Тип --&gt; Тип</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
							<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Организации</Код>
				<Наименование>Справочник: Организации</Наименование>
				<Порядок>150</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Организации</Источник>
				<Приемник>СправочникСсылка.Организации</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>15</Код>
						<Наименование>КодПоЕДРПОУ --&gt; КодПоЕДРПОУ</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Префикс --&gt; Префикс</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Префикс" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Контрагенты</Код>
				<Наименование>Справочник: Контрагенты</Наименование>
				<Порядок>250</Порядок>
				<ПослеЗагрузки>//Если Объект.ЭтоНовый() Тогда
//	Попытка Объект.Записать();
//		Если Не Объект.ЭтоГруппа Тогда
//			Объект.ГоловнойКонтрагент = Объект.Ссылка;
//		КонецЕсли;
//	Исключение КонецПопытки;
//КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>СправочникСсылка.Контрагенты</Источник>
				<Приемник>СправочникСсылка.Контрагенты</Приемник>
				<Свойства>
					<Свойство Отключить="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ДокументУдостоверяющийЛичность --&gt; ДокументУдостоверяющийЛичность</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДокументУдостоверяющийЛичность" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ДокументУдостоверяющийЛичность" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>6</Код>
						<Наименование>ИННПлательщикаНДС --&gt; ИНН</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ИННПлательщикаНДС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ИНН" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>13</Код>
						<Наименование>КодПоЕДРПОУ --&gt; КодПоЕДРПОУ</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодПоЕДРПОУ" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>НомерСвидетельстваПлательщикаНДС --&gt; НомерСвидетельства</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="НомерСвидетельстваПлательщикаНДС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерСвидетельства" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ЮрФизЛицо --&gt; ЮридическоеФизическоеЛицо</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="ЮрФизЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮрФизЛицо"/>
						<Приемник Имя="ЮридическоеФизическоеЛицо" Вид="Реквизит" Тип="ПеречислениеСсылка.ЮридическоеФизическоеЛицо"/>
						<КодПравилаКонвертации>ЮрФизЛицо                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>--&gt; ГоловнойКонтрагент</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ГоловнойКонтрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Значение = Источник.Ссылка;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>БазовыеЕдиницыИзмерения</Код>
				<Наименование>Справочник: Классификатор единиц измерения</Наименование>
				<Порядок>300</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.БазовыеЕдиницыИзмерения</Источник>
				<Приемник>СправочникСсылка.КлассификаторЕдиницИзмерения</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ТоварныеГруппы</Код>
				<Наименование>Справочник: Номенклатурные группы</Наименование>
				<Порядок>350</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ТоварныеГруппы</Источник>
				<Приемник>СправочникСсылка.НоменклатурныеГруппы</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ТоварныеГруппы"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.НоменклатурныеГруппы"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Номенклатура</Код>
				<Наименование>Справочник: Номенклатура</Наименование>
				<Порядок>400</Порядок>
				<ПослеЗагрузки>//
Если НЕ Объект.ЭтоГруппа  Тогда
	
	Если  ПараметрыОбъекта &lt;&gt; Неопределено И  ПараметрыОбъекта["КодДляННиРРО"] &lt;&gt; Неопределено Тогда
		
		Если ЗначениеЗаполнено(ПараметрыОбъекта["КодДляННиРРО"]) И (ТипЗнч(ПараметрыОбъекта["КодДляННиРРО"]) = Тип("СправочникСсылка.КлассификаторУКТВЭД")) Тогда
			
			Если НЕ ЗначениеЗаполнено(Объект.НоменклатураГТД) Тогда
					Объект.НоменклатураГТД = ПараметрыОбъекта["КодДляННиРРО"];
			ИначеЕсли (ТипЗнч(Объект.НоменклатураГТД) = Тип("СправочникСсылка.КлассификаторУКТВЭД")) И (Объект.НоменклатураГТД &lt;&gt; ПараметрыОбъекта["КодДляННиРРО"]) Тогда
					Объект.НоменклатураГТД = ПараметрыОбъекта["КодДляННиРРО"];
			ИначеЕсли (ТипЗнч(Объект.НоменклатураГТД) = Тип("СправочникСсылка.НоменклатураГТД")) И (Объект.НоменклатураГТД.КодУКТВЭД &lt;&gt; ПараметрыОбъекта["КодДляННиРРО"]) Тогда
				
				Запрос = Новый Запрос();
				Запрос.Текст = 
				"ВЫБРАТЬ
				|	НоменклатураГТД.Ссылка
				|ИЗ
				|	Справочник.НоменклатураГТД КАК НоменклатураГТД
				|ГДЕ
				|	НоменклатураГТД.Владелец = &amp;Владелец
				|	И НоменклатураГТД.КодУКТВЭД = &amp;КодУКТВЭД";
					
				Запрос.УстановитьПараметр("Владелец", Объект.Ссылка);
				Запрос.УстановитьПараметр("КодУКТВЭД",ПараметрыОбъекта["КодДляННиРРО"]);
				
				РезультатЗапроса = Запрос.Выполнить();
				
				Если НЕ РезультатЗапроса.Пустой() Тогда
					ВыборкаРезультатаЗапроса = РезультатЗапроса.Выбрать();
					ВыборкаРезультатаЗапроса.Следующий();
					Объект.НоменклатураГТД = ВыборкаРезультатаЗапроса.Ссылка;
				Иначе
					Объект.НоменклатураГТД = Неопределено;
					Объект.НоменклатураГТД = ПараметрыОбъекта["КодДляННиРРО"];
				КонецЕсли;

			КонецЕсли;
		КонецЕсли;
	КонецЕсли;
КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Номенклатура</Источник>
				<Приемник>СправочникСсылка.Номенклатура</Приемник>
				<Свойства>
					<Свойство Отключить="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Номенклатура"/>
						<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ЕдиницаИзмерения --&gt; БазоваяЕдиницаИзмерения</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.БазовыеЕдиницыИзмерения"/>
						<Приемник Имя="БазоваяЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
						<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ТоварнаяГруппа --&gt; НоменклатурнаяГруппа</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ТоварнаяГруппа" Вид="Реквизит" Тип="СправочникСсылка.ТоварныеГруппы"/>
						<Приемник Имя="НоменклатурнаяГруппа" Вид="Реквизит" Тип="СправочникСсылка.НоменклатурныеГруппы"/>
						<КодПравилаКонвертации>ТоварныеГруппы                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
						<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>--&gt; БланкСтрогогоУчета</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="БланкСтрогогоУчета" Вид="Реквизит" Тип="Булево"/>
						<ПередВыгрузкой>Значение = Ложь;</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>15</Код>
						<Наименование>--&gt; ЕдиницыИзмерения</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЕдиницыИзмерения" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Если Источник.ЭтоГруппа Тогда
	Отказ = Истина;
Иначе	
	КоллекцияОбъектов = Новый ТаблицаЗначений;
	КоллекцияОбъектов.Колонки.Добавить("ЕдиницаИзмерения");
	КоллекцияОбъектов.Колонки.Добавить("Коэффициент");
	
	Запрос = Новый Запрос;
	Запрос.Текст = 
	"ВЫБРАТЬ
	|	ЕдиницыИзмерения.Ссылка
	//|	ЕдиницыИзмерения.Коэффициент
	|ИЗ
	|	Справочник.БазовыеЕдиницыИзмерения КАК ЕдиницыИзмерения
	|ГДЕ
	|	ЕдиницыИзмерения.Ссылка = &amp;Владелец";

	Запрос.УстановитьПараметр("Владелец", Источник.Ссылка);
	
	Выборка = Запрос.Выполнить().Выбрать();
	
	Пока Выборка.Следующий() Цикл
		Строка = КоллекцияОбъектов.Добавить();
		Строка.ЕдиницаИзмерения = Выборка.Ссылка;
		//Строка.Коэффициент = Выборка.Коэффициент;
	КонецЦикла
		
КонецЕсли;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>16</Код>
							<Наименование>ЕдиницаИзмерения --&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.БазовыеЕдиницыИзмерения"/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1.000</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>18</Код>
						<Наименование>ПодакцизныйТовар --&gt; ПодакцизныйТовар</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="ПодакцизныйТовар" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ПодакцизныйТовар" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>КодДляННиРРО --&gt; КодДляННиРРО</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="КодДляННиРРО" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторУКТВЭД"/>
						<Приемник Имя="" Вид=""/>
						<КодПравилаКонвертации>КлассификаторУКТВЭД                               </КодПравилаКонвертации>
						<ИмяПараметраДляПередачи>КодДляННиРРО</ИмяПараметраДляПередачи>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Склады</Код>
				<Наименование>Справочник: Склады</Наименование>
				<Порядок>450</Порядок>
				<ПередВыгрузкой>//Если ЗначениеЗаполнено(Источник.ТипСклада)
// И Источник.ТипСклада &lt;&gt; Перечисления.ТипыСкладов.СкладЦентральногоОфиса Тогда
	
//	Отказ = Истина;
	
//КонецЕсли;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Склады</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство Отключить="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>--&gt; ТипСклада</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<ПередВыгрузкой>Значение = "ОптовыйСклад";</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Пользователи</Код>
				<Наименование>Справочник: Пользователи</Наименование>
				<Порядок>500</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Пользователи</Источник>
				<Приемник>СправочникСсылка.Пользователи</Приемник>
				<Свойства>
					<Свойство>
						<Код>5</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ФизЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="ФизическоеЛицо" Вид="Реквизит" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>7</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>Справочник: Виды контактной информации</Наименование>
				<Порядок>550</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ВидыКонтактнойИнформации</Источник>
				<Приемник>СправочникСсылка.ВидыКонтактнойИнформации</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>8</Код>
						<Наименование>Тип --&gt; Тип</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<Приемник Имя="Тип" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ТипыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыКонтактнойИнформации"/>
						<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>11</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>6</Код>
						<Наименование>ТелефонКонтрагента --&gt; ТелефонКонтрагента</Наименование>
						<Порядок>300</Порядок>
						<Источник>ТелефонКонтрагента</Источник>
						<Приемник>ТелефонКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>7</Код>
						<Наименование>ТелефонОрганизации --&gt; ТелефонОрганизации</Наименование>
						<Порядок>350</Порядок>
						<Источник>ТелефонОрганизации</Источник>
						<Приемник>ТелефонОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>8</Код>
						<Наименование>ТелефонФизЛица --&gt; ТелефонФизЛица</Наименование>
						<Порядок>400</Порядок>
						<Источник>ТелефонФизическогоЛица</Источник>
						<Приемник>ТелефонРабочийФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>9</Код>
						<Наименование>ФаксОрганизации --&gt; ФаксОрганизации</Наименование>
						<Порядок>450</Порядок>
						<Источник>ФаксОрганизации</Источник>
						<Приемник>ФаксОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>10</Код>
						<Наименование>ФактАдресКонтрагента --&gt; ФактАдресКонтрагента</Наименование>
						<Порядок>500</Порядок>
						<Источник>ФактАдресКонтрагента</Источник>
						<Приемник>ФактАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>11</Код>
						<Наименование>ФактАдресОрганизации --&gt; ФактАдресОрганизации</Наименование>
						<Порядок>550</Порядок>
						<Источник>ФактАдресОрганизации</Источник>
						<Приемник>ФактАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>13</Код>
						<Наименование>ЮрАдресКонтрагента --&gt; ЮрАдресКонтрагента</Наименование>
						<Порядок>650</Порядок>
						<Источник>ЮрАдресКонтрагента</Источник>
						<Приемник>ЮрАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>14</Код>
						<Наименование>ЮрАдресОрганизации --&gt; ЮрАдресОрганизации</Наименование>
						<Порядок>700</Порядок>
						<Источник>ЮрАдресОрганизации</Источник>
						<Приемник>ЮрАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>15</Код>
						<Наименование>EmailКонтрагента --&gt; EmailКонтрагенты</Наименование>
						<Порядок>750</Порядок>
						<Источник>EmailКонтрагента</Источник>
						<Приемник>EmailКонтрагенты</Приемник>
					</Значение>
					<Значение>
						<Код>16</Код>
						<Наименование>EmailОрганизации --&gt; EmailОрганизации</Наименование>
						<Порядок>800</Порядок>
						<Источник>EmailОрганизации</Источник>
						<Приемник>EmailОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>17</Код>
						<Наименование>EmailПользователя --&gt; EmailПользователя</Наименование>
						<Порядок>850</Порядок>
						<Источник>EmailПользователя</Источник>
						<Приемник>EmailПользователя</Приемник>
					</Значение>
					<Значение>
						<Код>18</Код>
						<Наименование>EmailФизическогоЛица --&gt; EMailФизическиеЛица</Наименование>
						<Порядок>900</Порядок>
						<Источник>EmailФизическогоЛица</Источник>
						<Приемник>EMailФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>19</Код>
						<Наименование>ДругаяИнформацияОрганизации --&gt; ДругаяИнформацияОр</Наименование>
						<Порядок>950</Порядок>
						<Источник>ДругаяИнформацияОрганизации</Источник>
						<Приемник>ДругаяИнформацияОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>20</Код>
						<Наименование>ПочтовыйАдресКонтрагента --&gt; ПочтовыйАдресКонтраге</Наименование>
						<Порядок>1000</Порядок>
						<Источник>ПочтовыйАдресКонтрагента</Источник>
						<Приемник>ПочтовыйАдресКонтрагента</Приемник>
					</Значение>
					<Значение>
						<Код>21</Код>
						<Наименование>ПочтовыйАдресОрганизации --&gt; ПочтовыйАдресОрганиза</Наименование>
						<Порядок>1050</Порядок>
						<Источник>ПочтовыйАдресОрганизации</Источник>
						<Приемник>ПочтовыйАдресОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>22</Код>
						<Наименование>ПочтовыйАдресФизическогоЛица --&gt; АдресДляИнформиро</Наименование>
						<Порядок>1100</Порядок>
						<Источник>ПочтовыйАдресФизическогоЛица</Источник>
						<Приемник>АдресДляИнформированияФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>23</Код>
						<Наименование>СправочникКонтрагенты --&gt; СправочникКонтрагенты</Наименование>
						<Порядок>1150</Порядок>
						<Источник>СправочникКонтрагенты</Источник>
						<Приемник>СправочникКонтрагенты</Приемник>
					</Значение>
					<Значение>
						<Код>24</Код>
						<Наименование>СправочникОрганизации --&gt; СправочникОрганизации</Наименование>
						<Порядок>1200</Порядок>
						<Источник>СправочникОрганизации</Источник>
						<Приемник>СправочникОрганизации</Приемник>
					</Значение>
					<Значение>
						<Код>25</Код>
						<Наименование>СправочникПользователи --&gt; СправочникПользователи</Наименование>
						<Порядок>1250</Порядок>
						<Источник>СправочникПользователи</Источник>
						<Приемник>СправочникПользователи</Приемник>
					</Значение>
					<Значение>
						<Код>26</Код>
						<Наименование>СправочникФизическиеЛица --&gt; СправочникФизическиеЛ</Наименование>
						<Порядок>1300</Порядок>
						<Источник>СправочникФизическиеЛица</Источник>
						<Приемник>СправочникФизическиеЛица</Приемник>
					</Значение>
					<Значение>
						<Код>27</Код>
						<Наименование>ТелефонПользователя --&gt; ТелефонПользователя</Наименование>
						<Порядок>1350</Порядок>
						<Источник>ТелефонПользователя</Источник>
						<Приемник>ТелефонПользователя</Приемник>
					</Значение>
					<Значение>
						<Код>28</Код>
						<Наименование>ФактАдресФизическогоЛица --&gt; АдресМестаПроживанияФ</Наименование>
						<Порядок>1400</Порядок>
						<Источник>ФактАдресФизическогоЛица</Источник>
						<Приемник>АдресМестаПроживанияФизическиеЛица</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>ДолжностиОрганизаций</Код>
				<Наименование>Справочник: Должности организаций</Наименование>
				<Порядок>600</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ДолжностиОрганизаций</Источник>
				<Приемник>СправочникСсылка.Должности</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ГруппыПользователей</Код>
				<Наименование>Справочник: Группы пользователей</Наименование>
				<Порядок>650</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ГруппыПользователей</Источник>
				<Приемник>СправочникСсылка.ГруппыПользователей</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ГруппыПользователей"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ГруппыПользователей"/>
						<КодПравилаКонвертации>ГруппыПользователей                               </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>8</Код>
						<Наименование>Состав --&gt; Состав</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Состав" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Состав" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>9</Код>
							<Наименование>Пользователь --&gt; Пользователь</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Пользователь" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<Приемник Имя="Пользователь" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
							<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>ВсеПользователи --&gt; ВсеПользователи</Наименование>
						<Порядок>50</Порядок>
						<Источник>ВсеПользователи</Источник>
						<Приемник>ВсеПользователи</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>СтраныМира</Код>
				<Наименование>Справочник: Классификатор стран мира</Наименование>
				<Порядок>700</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.СтраныМира</Источник>
				<Приемник>СправочникСсылка.СтраныМира</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>КодАльфа2 --&gt; КодАльфа2</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодАльфа2" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>КодАльфа3 --&gt; КодАльфа3</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодАльфа3" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения>
					<Значение>
						<Код>1</Код>
						<Наименование>Украина --&gt; Украина</Наименование>
						<Порядок>50</Порядок>
						<Источник>Украина</Источник>
						<Приемник>Украина</Приемник>
					</Значение>
				</Значения>
			</Правило>
			<Правило>
				<Код>Магазины</Код>
				<Наименование>Справочник: Магазины</Наименование>
				<Порядок>750</Порядок>
				<ПриЗагрузке>МетаданныеДокумента = Объект.Метаданные();

Объект.ТипЦенРозничнойТорговли = Справочники.ТипыЦенНоменклатуры.НайтиПоКоду("00004");</ПриЗагрузке>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.Магазины</Источник>
				<Приемник>СправочникСсылка.Склады</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<НеЗамещать>true</НеЗамещать>
						<Код>5</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>--&gt; ТипСклада</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ТипСклада" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыСкладов"/>
						<ПередВыгрузкой>Значение = "РозничныйМагазин";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Группа>
						<Код>8</Код>
						<Наименование>ДополнительныеРеквизиты --&gt; ДополнительныеРеквизиты</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="ДополнительныеРеквизиты" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>9</Код>
							<Наименование>Значение --&gt; Значение</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Значение" Вид="Реквизит"/>
							<Приемник Имя="Значение" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>Свойство --&gt; Свойство</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<Приемник Имя="Свойство" Вид="Реквизит" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
							<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>ТекстоваяСтрока --&gt; ТекстоваяСтрока</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
							<Приемник Имя="ТекстоваяСтрока" Вид="Реквизит" Тип="Строка"/>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>12</Код>
						<Наименование>ПравилоЦенообразования --&gt; ТипЦенРозничнойТорговли</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="ПравилоЦенообразования" Вид="Реквизит" Тип="СправочникСсылка.ПравилаЦенообразования"/>
						<Приемник Имя="ТипЦенРозничнойТорговли" Вид="Реквизит" Тип="СправочникСсылка.ТипыЦенНоменклатуры"/>
						<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.СкладУправляющейСистемы Тогда
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>Справочник: Статьи движения денежных средств</Наименование>
				<Порядок>800</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Источник>
				<Приемник>СправочникСсылка.СтатьиДвиженияДенежныхСредств</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
						<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
					</Свойство>
					<Свойство Обязательное="true">
						<Код>5</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ЗначенияСвойствОбъектов</Код>
				<Наименование>Справочник: Значения свойств объектов</Наименование>
				<Порядок>850</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.ЗначенияСвойствОбъектов</Источник>
				<Приемник>СправочникСсылка.ЗначенияСвойствОбъектов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Владелец --&gt; Владелец</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения"/>
						<КодПравилаКонвертации>ДополнительныеРеквизитыИСведения                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектов"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ЗначенияСвойствОбъектов"/>
						<КодПравилаКонвертации>ЗначенияСвойствОбъектов                           </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>4</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>Файлы</Код>
				<Наименование>Справочник: Файлы</Наименование>
				<Порядок>900</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.Файлы</Источник>
				<Приемник>СправочникСсылка.Файлы</Приемник>
				<Свойства>
					<Свойство>
						<Код>2</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>--&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВидыОплатЧекаККМ</Код>
				<Наименование>Справочник: Виды оплат чека ККМ</Наименование>
				<Порядок>950</Порядок>
				<ПередВыгрузкой>Если Источник.ТипОплаты = ПредопределенноеЗначение("Перечисление.ТипыОплатЧекаККМ.Бонусы")
	ИЛИ Источник.ТипОплаты = ПредопределенноеЗначение("Перечисление.ТипыОплатЧекаККМ.ЗачетАванса")
	ИЛИ Источник.ТипОплаты = ПредопределенноеЗначение("Перечисление.ТипыОплатЧекаККМ.ВРассрочку")
	ИЛИ  Источник.ТипОплаты = ПредопределенноеЗначение("Перечисление.ТипыОплатЧекаККМ.ПодарочныйСертификат") Тогда
	Отказ = Истина;
КОнецЕсли;</ПередВыгрузкой>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>true</ПродолжитьПоискПоПолямПоискаЕслиПоИдентификаторуНеНашли>
				<Источник>СправочникСсылка.ВидыОплатЧекаККМ</Источник>
				<Приемник>СправочникСсылка.ВидыОплатОрганизаций</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>ПроцентБанковскойКомиссии --&gt; ПроцентБанковскойКомиссии</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="ПроцентБанковскойКомиссии" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="ПроцентБанковскойКомиссии" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ТипОплаты --&gt; ТипОплаты</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="ТипОплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыОплатЧекаККМ"/>
						<Приемник Имя="ТипОплаты" Вид="Реквизит" Тип="ПеречислениеСсылка.ТипыОплат"/>
						<КодПравилаКонвертации>ТипыОплат                                         </КодПравилаКонвертации>
					</Свойство>
					<Свойство Отключить="true">
						<Код>3</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Родитель --&gt; Родитель</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыОплатЧекаККМ"/>
						<Приемник Имя="Родитель" Вид="Свойство" Тип="СправочникСсылка.ВидыОплатОрганизаций"/>
						<КодПравилаКонвертации>ВидыОплатЧекаККМ                                  </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>7</Код>
						<Наименование>ЭтоГруппа --&gt; ЭтоГруппа</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ДоговорыКонтрагентов</Код>
				<Наименование>:</Наименование>
				<Порядок>1000</Порядок>
				<ПередВыгрузкой>ТолькоПолучитьУзелСсылки = Ложь;</ПередВыгрузкой>
				<ПослеЗагрузки>Если (НЕ ОбъектНайден)
	ИЛИ НЕ ЗначениеЗаполнено(Объект.ВалютаВзаиморасчетов) Тогда
		Объект.ВалютаВзаиморасчетов = Параметры.ВалютаРегламентированногоУчета;
		Объект.Наименование = Строка(Объект.ВидДоговора) + ", " + НРег(Объект.ВалютаВзаиморасчетов);
		Объект.ИспользуетсяПриОбменеДанными = Истина;
КонецЕсли;</ПослеЗагрузки>
				<ПоследовательностьПолейПоиска>Запрос = Новый Запрос("ВЫБРАТЬ
|	ДоговорыКонтрагентов.Ссылка
|ИЗ
|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
|ГДЕ
|	ДоговорыКонтрагентов.ВидДоговора = &amp;ВидДоговора
|	И ДоговорыКонтрагентов.Организация = &amp;Организация
|	И ДоговорыКонтрагентов.Владелец = &amp;Владелец
|	И ДоговорыКонтрагентов.ВалютаВзаиморасчетов = &amp;ВалютаВзаиморасчетов
|	И НЕ ДоговорыКонтрагентов.ПометкаУдаления
|	И ДоговорыКонтрагентов.ЭтоГруппа = &amp;ЭтоГруппа");
Для Каждого СвойствоПоиска Из СвойстваПоиска Цикл 
	Запрос.УстановитьПараметр(СвойствоПоиска.Ключ, СвойствоПоиска.Значение);
КонецЦикла;
Запрос.УстановитьПараметр("ВалютаВзаиморасчетов", Параметры.ВалютаРегламентированногоУчета);
Запрос.УстановитьПараметр("ЭтоГруппа", Ложь);
ВыборкаДоговоров = Запрос.Выполнить().Выбрать();
Если ВыборкаДоговоров.Следующий() Тогда
	СсылкаНаОбъект = ВыборкаДоговоров.Ссылка;
КонецЕсли;
ПрекратитьПоиск = Истина;</ПоследовательностьПолейПоиска>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Приемник>СправочникСсылка.ДоговорыКонтрагентов</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>--&gt; ВидДоговора</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ВидДоговора" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыДоговоровКонтрагентов"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>--&gt; Владелец</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Владелец" Вид="Свойство" Тип="СправочникСсылка.Контрагенты"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>--&gt; Организация</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
					</Свойство>
					<Свойство Поиск="true" Обязательное="true">
						<Код>3</Код>
						<Наименование>--&gt; ЭтоГруппа</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="ЭтоГруппа" Вид="Свойство" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>КлассификаторУКТВЭД</Код>
				<Наименование>Справочник: Классификатор кодов для НН</Наименование>
				<Порядок>1050</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>СправочникСсылка.КлассификаторУКТВЭД</Источник>
				<Приемник>СправочникСсылка.КлассификаторУКТВЭД</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Вид --&gt; Вид</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Вид" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыКодовДляНалоговойНакладной"/>
						<Приемник Имя="Вид" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыКодовДляНалоговойНакладной"/>
						<КодПравилаКонвертации>ВидыКодовДляНалоговойНакладной                    </КодПравилаКонвертации>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Код --&gt; Код</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Код" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Код" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>КодСХДеятельности --&gt; КодСХДеятельности</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="КодСХДеятельности" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="КодСХДеятельности" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>НаименованиеПолное --&gt; НаименованиеПолное</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НаименованиеПолное" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ВыводитьПриПечатиЧека --&gt; ВыводитьПриПечатиЧека</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ВыводитьПриПечатиЧека" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="ВыводитьПриПечатиЧека" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>150</Порядок>
			<Правило>
				<Код>ВозвратТоваровОтПокупателя</Код>
				<Наименование>Документ: Поступление товаров</Наименование>
				<Порядок>50</Порядок>
				<ПередВыгрузкой>Если Параметры.Контрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
		ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты",,,,, Ложь);
		Параметры.Контрагенты.Добавить(Источник.Контрагент);
КонецЕсли;
ВходящиеДанные = Новый Структура;

Запрос = Новый Запрос("ВЫБРАТЬ
 |  Товары.Номенклатура 		КАК Номенклатура,
 |  Товары.Характеристика 		КАК Характеристика,
 |	Товары.Количество 			КАК Количество,
 |	Товары.КоличествоУпаковок	КАК КоличествоУпаковок,
 |	Товары.Упаковка 			КАК Упаковка,
 |	Товары.СтавкаНДС			КАК СтавкаНДС,
 |	Товары.Цена					КАК Цена,
 |	Товары.Сумма				КАК Сумма,
 |	Товары.СуммаНДС				КАК СуммаНДС,
 |	ВЫБОР	КОГДА &amp;ЦенаВключаетНДС
 |			ТОГДА Товары.Сумма
 |			ИНАЧЕ Товары.Сумма + Товары.СуммаНДС
 |	КОНЕЦ						КАК СуммаСНДС,
 |	Товары.СтатусУказанияСерий	КАК СтатусУказанияСерий,
 |	Товары.ДокументПродажи		КАК ДокументПродажи
 |ИЗ
 |	Документ.ВозвратТоваровОтПокупателя.Товары КАК Товары
 |		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
 |		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
 |ГДЕ
 |	Товары.Ссылка = &amp;Ссылка
 |	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)");
 
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запрос.УстановитьПараметр("ЦенаВключаетНДС", Источник.ЦенаВключаетНДС);
ТаблицаТовары = Запрос.Выполнить().Выгрузить();
 
ВходящиеДанные.Вставить("Товары", ТаблицаТовары);</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение дополнительных реквизитов шапки
//--нет--

// Заполнение поля "Договор". Параметры:
ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
ПараметрДата                    = Объект.Дата;
ПараметрДоговорВТабличнойЧасти  = Ложь;
ПараметрИмяТабличнойЧасти       = "Товары";
ПараметрКонтрагент              = Объект.Контрагент;
ПараметрОрганизация             = Объект.Организация;
// Заполнение поля "Договор". Функция:
Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);

// Заполняет счета учетов документа
//Объект.ЗаполнитьСчетаУчетаРасчетов();
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаРасчетов);


// Заполняет счета учета табличной части "Товары"
ТабЧасть = "Товары";
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаВТабЧасти);
//Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, "Товары", Истина, Истина);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ВозвратТоваровОтПокупателя</Источник>
				<Приемник>ДокументСсылка.ВозвратТоваровОтПокупателя</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>40</Код>
						<Наименование>--&gt; Сделка</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Сделка" Вид="Реквизит"/>
						<ПередВыгрузкой>ПараметрИмяТабличнойЧасти        = "Товары";
ПараметрИмяКолонкиТабличнойЧасти = "ДокументПродажи";
ПараметрОбъект                   = Источник;
ПараметрЗначение                 = Неопределено;

Выполнить(Алгоритмы.ПолучитьЗначениеПервойСтроки);

Значение = ПараметрЗначение;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>УчитыватьНДС --&gt; СуммаВключаетНДС</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<ПередВыгрузкой>ПараметрИмяТабличнойЧасти        = "Товары";
ПараметрИмяКолонкиТабличнойЧасти = "ДокументПродажи";
ПараметрОбъект                   = Источник;
ПараметрЗначение                 = Неопределено;

Выполнить(Алгоритмы.ПолучитьЗначениеПервойСтроки);

Если Не ЗначениеЗаполнено(ПараметрЗначение) Тогда
	Значение = Источник.Комментарий + ?(ЗначениеЗаполнено(Источник.Комментарий), " ", "") + "Обмен с РТ: Не удалось определить значение документа отгрузки!";
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>13</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередВыгрузкой>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередВыгрузкой>
						<Свойство>
							<Код>18</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>41</Код>
							<Наименование>Сумма --&gt; СуммаБезСкидки</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаБезСкидки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Если НЕ (ОбъектКоллекции.ПроцентАвтоматическойСкидки = 0) ИЛИ (ОбъектКоллекции.ПроцентРучнойСкидки = 0)  Тогда
//	Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Цена;
//КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ВозвратТоваровПоставщику</Код>
				<Наименование>Документ: Возврат товаров поставщику</Наименование>
				<Порядок>100</Порядок>
				<ПередВыгрузкой>Если Параметры.Контрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
		ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты",,,,, Ложь);
		Параметры.Контрагенты.Добавить(Источник.Контрагент);
КонецЕсли;
Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Товары.Номенклатура       КАК Номенклатура,
|	Товары.Характеристика     КАК Характеристика,
|	Товары.Количество         КАК Количество,
|	Товары.КоличествоУпаковок КАК КоличествоУпаковок,
|	Товары.Упаковка           КАК Упаковка,
|	Товары.СтавкаНДС          КАК СтавкаНДС,
|	Товары.Цена               КАК Цена,
|	Товары.Сумма              КАК Сумма,
|	Товары.СуммаНДС           КАК СуммаНДС,
|	ВЫБОР	КОГДА &amp;ЦенаВключаетНДС
|			ТОГДА Товары.Сумма
|			ИНАЧЕ Товары.Сумма + Товары.СуммаНДС
|	КОНЕЦ                     КАК СуммаСНДС,
|	Товары.СтатусУказанияСерий КАК СтатусУказанияСерий
|ИЗ
|	Документ.ВозвратТоваровПоставщику.Товары КАК Товары
|ЛЕВОЕ СОЕДИНЕНИЕ
|	Справочник.Номенклатура КАК СпрНоменклатура
|ПО
|	СпрНоменклатура.Ссылка = Товары.Номенклатура
|ГДЕ
|	Товары.Ссылка = &amp;Ссылка
|	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
|");
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запрос.УстановитьПараметр("ЦенаВключаетНДС", Источник.ЦенаВключаетНДС);
ТаблицаТовары = Запрос.Выполнить().Выгрузить();

ВходящиеДанные.Вставить("Товары", ТаблицаТовары);</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение поля "Договор". Параметры:
ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком;
ПараметрДата                    = Объект.Дата;
ПараметрДоговорВТабличнойЧасти  = Ложь;
ПараметрИмяТабличнойЧасти       = "Товары";
ПараметрКонтрагент              = Объект.Контрагент;
ПараметрОрганизация             = Объект.Организация;
// Заполнение поля "Договор". Функция:
Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);

// Заполняет счета учетов документа
//Объект.ЗаполнитьСчетаУчетаРасчетов();
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаРасчетов);

// Заполняет счета учета табличной части "Товары"
//Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, "Товары", Истина, Истина);
ТабЧасть = "Товары";
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаВТабЧасти);

	СчетУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетУчетаПрочий(Объект.Организация, Перечисления.ВидыПрочихСчетовУчета.СчетДоходовВозвратПоставщику);
	Объект.СчетУчетаДоходовБУ 	= СчетУчета.СчетУчетаБУ;
	Объект.СубконтоДоходов1 	= СчетУчета.Субконто1;
	Объект.СубконтоДоходов2 	= СчетУчета.Субконто2;
	Объект.СубконтоДоходов3 	= СчетУчета.Субконто3;

	СчетУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетУчетаПрочий(Объект.Организация, Перечисления.ВидыПрочихСчетовУчета.СчетЗатратВозвратПоставщику);
	Объект.СчетУчетаРасходовБУ 	= СчетУчета.СчетУчетаБУ;
	Объект.СубконтоРасходов1 	= СчетУчета.Субконто1;
	Объект.СубконтоРасходов2 	= СчетУчета.Субконто2;
	Объект.СубконтоРасходов3 	= СчетУчета.Субконто3;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ВозвратТоваровПоставщику</Источник>
				<Приемник>ДокументСсылка.ВозвратТоваровПоставщику</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>УчитыватьНДС --&gt; СуммаВключаетНДС</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>5</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>12</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередВыгрузкой>КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередВыгрузкой>
						<Свойство>
							<Код>16</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							<ПередВыгрузкой>Отказ = Не Источник.УчитыватьНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПересчетТоваров</Код>
				<Наименование>Документ: Инвентаризация товаров</Наименование>
				<Порядок>150</Порядок>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение дополнительных реквизитов шапки
//--нет--</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПересчетТоваров</Источник>
				<Приемник>ДокументСсылка.ИнвентаризацияТоваровНаСкладе</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>9</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>10</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Группа>
						<Код>1</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Товары.Номенклатура КАК Номенклатура,
|	Товары.Характеристика КАК Характеристика,
|	Товары.Количество КАК Количество,
|	Товары.Сумма КАК Сумма,
|	Товары.Цена КАК Цена,
|	Товары.СуммаФакт КАК СуммаФакт,
|	Товары.КоличествоУпаковокФакт КАК КоличествоУпаковокФакт,
|	Товары.КоличествоУпаковок КАК КоличествоУпаковок,
|	Товары.КоличествоФакт КАК КоличествоФакт,
|	Товары.Упаковка КАК Упаковка
|ИЗ
|	Документ.ПересчетТоваров.Товары КАК Товары
|ЛЕВОЕ СОЕДИНЕНИЕ
|	Справочник.Номенклатура КАК СпрНоменклатура
|ПО
|	СпрНоменклатура.Ссылка = Товары.Номенклатура
|ГДЕ
|	Товары.Ссылка = &amp;Ссылка
|	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
|");
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>3</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>2</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>КоличествоФакт --&gt; КоличествоУчет</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="КоличествоФакт" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="КоличествоУчет" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>4</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>5</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Цена --&gt; ЦенаВРознице</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ЦенаВРознице" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>СуммаФакт --&gt; СуммаУчет</Наименование>
							<Порядок>700</Порядок>
							<Источник Имя="СуммаФакт" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаУчет" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>800</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство Отключить="true">
							<Код>20</Код>
							<Наименование>--&gt; СчетУчетаБУ</Наименование>
							<Порядок>850</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетУчетаБУ" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = ПланыСчетов.Хозрасчетный.НайтиПоКоду("2821");</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>19</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>СписаниеТоваров</Код>
				<Наименование>Документ: Списание товаров</Наименование>
				<Порядок>200</Порядок>
				<ПередВыгрузкой>Если Источник.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.СписаниеНаЗатраты тогда
	ВыгрузитьПоПравилу(Источник,,,,"ТребованиеНакладная");
	Отказ = Истина;
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

Объект.ВидОперации	= Перечисления.ВидыОперацийСписаниеТоваров.ТоварыПродукция;
Объект.СчетДт 		= ПланыСчетов.Хозрасчетный.НедостачиИПотериОтПорчиЦенностей;

// Заполняет счета учета табличной части "Товары"
//Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, "Товары", Истина, Истина);

	Если НЕ ЗначениеЗаполнено(Объект.ВидОперации) Тогда
		Объект.ВидОперации = Перечисления.ВидыОперацийСписаниеТоваров.ТоварыПродукция;
	КонецЕсли;

	ДанныеОбъекта = Новый Структура("Дата, Организация, Склад");
	ЗаполнитьЗначенияСвойств(ДанныеОбъекта, Объект);
	
	СоответствиеСчетовУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаСпискаНоменклатуры(
		ДанныеОбъекта.Организация, ОбщегоНазначения.ВыгрузитьКолонку(Объект.Товары, "Номенклатура", Истина), ДанныеОбъекта.Склад, ДанныеОбъекта.Дата);
	
	Для каждого СтрокаТЧ из Объект.Товары Цикл
		СчетаУчета = СоответствиеСчетовУчета.Получить(СтрокаТЧ.Номенклатура);
		Если НЕ ЗначениеЗаполнено(СтрокаТЧ.СчетУчетаБУ) Тогда
			СтрокаТЧ.СчетУчетаБУ = СчетаУчета.СчетУчетаБУ;
		КонецЕсли;
		СтрокаТЧ.НалоговоеНазначение = СчетаУчета.НалоговоеНазначение;
	КонецЦикла;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.СписаниеТоваров</Источник>
				<Приемник>ДокументСсылка.СписаниеТоваров</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>ДокументОснование --&gt; ИнвентаризацияТоваровНаСкладе</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ДокументОснование" Вид="Реквизит"/>
						<Приемник Имя="ИнвентаризацияТоваровНаСкладе" Вид="Реквизит" Тип="ДокументСсылка.ИнвентаризацияТоваровНаСкладе"/>
						<КодПравилаКонвертации>ПересчетТоваров                                   </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>25</Код>
						<Наименование>ОснованиеСписания --&gt; Основание</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ОснованиеСписания" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>26</Код>
						<Наименование>АналитикаХозяйственнойОперации --&gt; ВидОперации</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="АналитикаХозяйственнойОперации" Вид="Реквизит" Тип="СправочникСсылка.АналитикаХозяйственныхОпераций"/>
						<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийСписаниеТоваров"/>
						<КодПравилаКонвертации>ВидыОперацийСписаниеТоваров                       </КодПравилаКонвертации>
						<ПередВыгрузкой>Если Источник.АналитикаХозяйственнойОперации.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.СписаниеПоИнвентаризации Тогда
	Значение = Перечисления.ХозяйственныеОперации.СписаниеПоИнвентаризации;
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>11</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Товары.Номенклатура        КАК Номенклатура,
|	Товары.Характеристика      КАК Характеристика,
|	Товары.Количество          КАК Количество,
|	Товары.КоличествоУпаковок  КАК КоличествоУпаковок,
|	Товары.Упаковка            КАК Упаковка,
|	Товары.Цена            	   КАК Цена,
|	Товары.Сумма               КАК Сумма,
|	Товары.СтатусУказанияСерий КАК СтатусУказанияСерий
|ИЗ
|	Документ.СписаниеТоваров.Товары КАК Товары
|ЛЕВОЕ СОЕДИНЕНИЕ
|	Справочник.Номенклатура КАК СпрНоменклатура
|ПО
|	СпрНоменклатура.Ссылка = Товары.Номенклатура
|ГДЕ
|	Товары.Ссылка = &amp;Ссылка
|	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
|");
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>16</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>20</Код>
							<Наименование>--&gt; ДокументОприходования</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДокументОприходования" Вид="Реквизит"/>
							<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>// Нужно для вывода в ТОРГ-12 из бухгалтерии.
Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ТребованиеНакладная</Код>
				<Наименование>Документ: Списание товаров</Наименование>
				<Порядок>250</Порядок>
				<ПередВыгрузкой>//Если Источник.Склад.ТипСклада = Перечисления.ТипыСкладов.СкладЦентральногоОфиса Тогда
//	Отказ = Истина;
//КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

////Объект.НДСВСтоимостиТоваров = Перечисления.ДействиеНДСВСтоимостиТоваров.НеИзменять;


////Объект.СчетЗатрат = БухгалтерскийУчет.ПолучитьСчетРасходовНаПродажу();
////Объект.СчетЗатратНУ =  БухгалтерскийУчет.ПреобразоватьСчетаБУвСчетНУ(Новый Структура("СчетБУ", Объект.СчетЗатрат), , , Объект.Дата);

	Организация = Объект.Организация;
	ПодразделениеОрганизации = Неопределено;
	Выполнить(Алгоритмы.ПолучитьПодразделениеОрганизацииПоУмолчанию);
	
	// Заполняем подразделение затрат значением по умолчанию
	Если НЕ ЗначениеЗаполнено(Объект.ПодразделениеОрганизации) И ЗначениеЗаполнено(ПодразделениеОрганизации) Тогда
		Объект.ПодразделениеОрганизации = ПодразделениеОрганизации;
	КонецЕсли;
	ДанныеОбъекта = Новый Структура("Дата, Организация, Склад");
	ЗаполнитьЗначенияСвойств(ДанныеОбъекта, Объект);
	
	СоответствиеСчетовУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаСпискаНоменклатуры(
		ДанныеОбъекта.Организация, ОбщегоНазначения.ВыгрузитьКолонку(Объект.Материалы, "Номенклатура", Истина), ДанныеОбъекта.Склад, ДанныеОбъекта.Дата);
		
	Для каждого СтрокаТЧ Из Объект.Материалы Цикл
		
		СчетаУчета = СоответствиеСчетовУчета.Получить(СтрокаТЧ.Номенклатура);	
		Если ЗначениеЗаполнено(СчетаУчета.СчетУчетаБУ) Тогда
			СтрокаТЧ.Счет = СчетаУчета.СчетУчетаБУ;
		КонецЕсли;
		
		СтрокаТЧ.НалоговоеНазначение 		= СчетаУчета.НалоговоеНазначение;

		// Заполняем номенклатурную группу значением по умолчанию
		Если НЕ ЗначениеЗаполнено(СтрокаТЧ.НоменклатурнаяГруппа) Тогда
			СтрокаТЧ.НоменклатурнаяГруппа = СтрокаТЧ.Номенклатура.НоменклатурнаяГруппа;
		КонецЕсли;
		
		//Если НЕ ЗначениеЗаполнено(СтрокаТЧ.НоменклатурнаяГруппа) ИЛИ СтрокаТЧ.НоменклатурнаяГруппа = Справочники.НоменклатурныеГруппы.ПустаяСсылка() Тогда
		//	СтрокаТЧ.НоменклатурнаяГруппа = Параметры.НоменклатурнаяГруппаПоУмолчанию;
		//КонецЕсли;
		
	КонецЦикла;


// Заполняет счета учета табличной части "Материалы"
//Для каждого СтрокаТабличнойЧасти Из Объект.Материалы Цикл
//	Объект.ЗаполнитьСчетаУчетаВСтрокеТабЧасти(СтрокаТабличнойЧасти, "Материалы", Истина, Истина);
//КонецЦикла;


//Если НалоговыйУчетУСН.ПрименениеУСН(Объект.Организация, Объект.Дата) Тогда
//
//	Для каждого СтрокаТЧ Из Объект.Материалы Цикл
//		СтрокаТЧ.ОтражениеВУСН = Перечисления.ОтражениеВУСН.Принимаются;
//	КонецЦикла;
//	
//КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.СписаниеТоваров</Источник>
				<Приемник>ДокументСсылка.ТребованиеНакладная</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>4</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Группа>
						<Код>9</Код>
						<Наименование>Товары --&gt; Материалы</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Материалы" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Товары.Номенклатура        КАК Номенклатура,
|	Товары.Характеристика      КАК Характеристика,
|	Товары.Количество          КАК Количество,
|	Товары.КоличествоУпаковок  КАК КоличествоУпаковок,
|	Товары.Упаковка            КАК Упаковка,
|	Товары.Цена            	   КАК Цена,
|	Товары.Сумма               КАК Сумма,
|	Товары.СтатусУказанияСерий КАК СтатусУказанияСерий
|ИЗ
|	Документ.СписаниеТоваров.Товары КАК Товары
|ЛЕВОЕ СОЕДИНЕНИЕ
|	Справочник.Номенклатура КАК СпрНоменклатура
|ПО
|	СпрНоменклатура.Ссылка = Товары.Номенклатура
|ГДЕ
|	Товары.Ссылка = &amp;Ссылка
|	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
|");
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>13</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>10</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Свойство Отключить="true">
						<Код>14</Код>
						<Наименование>--&gt; СчетЗатрат</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетЗатрат" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ОприходованиеТоваров</Код>
				<Наименование>Документ: Оприходование товаров</Наименование>
				<Порядок>300</Порядок>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение дополнительных реквизитов шапки


ВалютаРегУчета 		= Параметры.ВалютаРегламентированногоУчета;
//ВалютаУпрУчета 		= глЗначениеПеременной("ВалютаУправленческогоУчета");
//СтруктураКурса		= МодульВалютногоУчета.ПолучитьКурсВалюты(ВалютаУпрУчета, Объект.Дата);
//КурсУпрУчета		= СтруктураКурса.Курс;
//КратностьУпрУчета	= СтруктураКурса.Кратность;

Для Каждого СтрокаДокумента Из Объект.Товары Цикл
	//СтрокаДокумента.СуммаРегл = МодульВалютногоУчета.ПересчитатьИзВалютыВВалюту(СтрокаДокумента.Сумма, ВалютаУпрУчета, 
	//							ВалютаРегУчета, КурсУпрУчета, 1, КратностьУпрУчета, 1);
	
	ТабЧасть = "Товары";
	Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаВТабЧасти);

	//Объект.ЗаполнитьСчетаУчетаВСтрокеТабЧасти(СтрокаДокумента, "Товары", Истина, Истина);

	СтрокаДокумента.СуммаВРознице = СтрокаДокумента.Количество * СтрокаДокумента.ЦенаВРознице;

	Если ЗначениеЗаполнено(СтрокаДокумента.Номенклатура) Тогда
		СтрокаДокумента.СтавкаНДСВРознице = СтрокаДокумента.Номенклатура.СтавкаНДС;
	КонецЕсли;
КонецЦикла;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ОприходованиеТоваров</Источник>
				<Приемник>ДокументСсылка.ОприходованиеТоваров</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>3</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>4</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>--&gt; СчетКт</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СчетКт" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
						<ПередВыгрузкой>Значение = "ДругиеДоходыОтОперационнойДеятельности";</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>8</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Товары.Номенклатура   КАК Номенклатура,
|	Товары.Характеристика КАК Характеристика,
|	Товары.Количество     КАК Количество,
|	Товары.Упаковка       КАК Упаковка,
|	ВЫБОР	КОГДА Товары.Упаковка = ЗНАЧЕНИЕ(Справочник.УпаковкиНоменклатуры.ПустаяСсылка) ИЛИ Товары.Упаковка.Коэффициент = 0.00
|			ТОГДА Товары.Цена
|			ИНАЧЕ Товары.Цена / Товары.Упаковка.Коэффициент
|	КОНЕЦ                 КАК Цена,
|	Товары.Сумма          КАК Сумма
|ИЗ
|	Документ.ОприходованиеТоваров.Товары КАК Товары
|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Номенклатура КАК СпрНоменклатура
|		ПО (СпрНоменклатура.Ссылка = Товары.Номенклатура)
|ГДЕ
|	Товары.Ссылка = &amp;Ссылка
|	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)");
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>14</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>400</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПоступлениеТоваровУслуг</Код>
				<Наименование>Документ: Поступление товаров</Наименование>
				<Порядок>350</Порядок>
				<ПередВыгрузкой>//Если Источник.Склад.ТипСклада = Перечисления.ТипыСкладов.СкладЦентральногоОфиса Тогда
//	Отказ = Истина;
//Иначе
	Если Параметры.Контрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
		ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты",,,,, Ложь);
		Параметры.Контрагенты.Добавить(Источник.Контрагент);
	КонецЕсли;
//КонецЕсли;
Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Товары.Номенклатура КАК Номенклатура,
|	Товары.Характеристика КАК Характеристика,
|	Товары.Количество КАК Количество,
|	Товары.КоличествоУпаковок КАК КоличествоУпаковок,
|	Товары.Упаковка КАК Упаковка,
|	Товары.СтавкаНДС КАК СтавкаНДС,
|	Товары.Цена КАК Цена,
|	Товары.Сумма КАК Сумма,
|	Товары.СуммаНДС КАК СуммаНДС,
|	ВЫБОР
|		КОГДА &amp;ЦенаВключаетНДС
|			ТОГДА Товары.Сумма
|		ИНАЧЕ Товары.Сумма + Товары.СуммаНДС
|	КОНЕЦ КАК СуммаСНДС,
|	Товары.СтатусУказанияСерий КАК СтатусУказанияСерий
|ИЗ
|	Документ.ПоступлениеТоваров.Товары КАК Товары
|ЛЕВОЕ СОЕДИНЕНИЕ
|	Справочник.Номенклатура КАК СпрНоменклатура
|ПО
|	СпрНоменклатура.Ссылка = Товары.Номенклатура
|ГДЕ
|	Товары.Ссылка = &amp;Ссылка
|	И СпрНоменклатура.ТипНоменклатуры &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.ПодарочныйСертификат)
|");
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запрос.УстановитьПараметр("ЦенаВключаетНДС", Источник.ЦенаВключаетНДС);
ТаблицаТовары = Запрос.Выполнить().Выгрузить();

ВходящиеДанные.Вставить("Товары", ТаблицаТовары);
//СуммаДокумента = ОбработкаТабличнойЧастиТоварыКлиентСервер.ПолучитьСуммуДокумента(ТаблицаТовары, Источник.ЦенаВключаетНДС);
//ВходящиеДанные.Вставить("СуммаДокумента", СуммаДокумента);</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение дополнительных реквизитов шапки
//--нет--

// Заполнение поля "Договор". Параметры:
ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком;
ПараметрДата                    = Объект.Дата;
ПараметрДоговорВТабличнойЧасти  = Ложь;
ПараметрИмяТабличнойЧасти       = "Товары";
ПараметрКонтрагент              = Объект.Контрагент;
ПараметрОрганизация             = Объект.Организация;
// Заполнение поля "Договор". Функция:
Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);

	// Заполняет счета учетов документа
	Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаРасчетов);
	//Объект.ЗаполнитьСчетаУчетаРасчетов();

	// Заполняет счета учета табличной части "Товары"
	ТабличнаяЧасть = Объект[ПараметрИмяТабличнойЧасти];
	
	ДанныеОбъекта  = Новый Структура("Дата, ВидОперации, Организация, ЭтоКомиссия");
	ЗаполнитьЗначенияСвойств(ДанныеОбъекта, Объект);
	
	ДанныеОбъекта.Вставить("Склад", Объект.Склад);
	ДанныеОбъекта.Вставить("ЭтоКомиссия", (Объект.ВидОперации = Перечисления.ВидыОперацийПоступлениеТоваровУслуг.ПокупкаКомиссия)
			И (ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.ДоговорКонтрагента, "ВидДоговора")
				= Перечисления.ВидыДоговоровКонтрагентов.СКомитентом));
	
	ИмяНоменклатуры = "Номенклатура";
	
	СоответствиеСчетовУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаСпискаНоменклатуры(
		ДанныеОбъекта.Организация, ОбщегоНазначения.ВыгрузитьКолонку(ТабличнаяЧасть, ИмяНоменклатуры, Истина), ДанныеОбъекта.Склад, ДанныеОбъекта.Дата);
	
	Для каждого СтрокаТабличнойЧасти Из ТабличнаяЧасть Цикл
		СведенияОНоменклатуре = СоответствиеСчетовУчета.Получить(СтрокаТабличнойЧасти[ИмяНоменклатуры]);
		//ЗаполнитьСчетаУчетаВСтрокеТабличнойЧасти(ДанныеОбъекта, СтрокаТабличнойЧасти, ПараметрИмяТабличнойЧасти, СчетаУчета);
		
		Если СведенияОНоменклатуре.Свойство("СчетаУчета") Тогда
		// СведенияОНоменклатуре - структура сведений номенклатуры
		СчетаУчета = СведенияОНоменклатуре.СчетаУчета;
		ИначеЕсли СведенияОНоменклатуре.Свойство("СчетУчетаБУ") Тогда
			// СведенияОНоменклатуре - структура счетов учета номенклатуры
			СчетаУчета = СведенияОНоменклатуре;
		КонецЕсли;

		Если ДанныеОбъекта.ЭтоКомиссия = Истина Тогда
			СтрокаТабличнойЧасти.СчетУчетаБУ  = СведенияОНоменклатуре.СчетУчетаДоп;

		ИначеЕсли ДанныеОбъекта.ВидОперации = Перечисления.ВидыОперацийПоступлениеТоваровУслуг.ВПереработку Тогда
			СтрокаТабличнойЧасти.СчетУчетаБУ  = СведенияОНоменклатуре.СчетУчетаДавСырья;

		Иначе
			СтрокаТабличнойЧасти.СчетУчетаБУ = СведенияОНоменклатуре.СчетУчетаБУ;	
		КонецЕсли;
		
	КонецЦикла;

	
//Объект.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект.Товары, "Товары", Истина, Истина);
// Заполняет счета учета табличной части "Услуги"
//Объект.ЗаполнитьСчетаУчетаВТабличнойЧасти(Объект.Услуги, "Услуги", Истина, Истина);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПоступлениеТоваров</Источник>
				<Приемник>ДокументСсылка.ПоступлениеТоваровУслуг</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>ДатаВходящегоДокумента --&gt; ДатаВходящегоДокумента</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
						<Приемник Имя="ДатаВходящегоДокумента" Вид="Реквизит" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>НомерВходящегоДокумента --&gt; НомерВходящегоДокумента</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="НомерВходящегоДокумента" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>УчитыватьНДС --&gt; СуммаВключаетНДС</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>14</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередВыгрузкой>//Если ОбъектКоллекции.Номенклатура.Услуга Тогда
//	Отказ = Истина;
//КонецЕсли;
КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередВыгрузкой>
						<Свойство>
							<Код>18</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							<ПередВыгрузкой>Отказ = Не Источник.УчитыватьНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
							<ПередВыгрузкой>//Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
//	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
//Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
//КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>// Нужно для вывода в ТОРГ-12 из бухгалтерии.
Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РеализацияТоваровУслуг</Код>
				<Наименование>Документ: Реализация товаров</Наименование>
				<Порядок>400</Порядок>
				<ПередВыгрузкой>//Если Источник.Склад.ТипСклада = Перечисления.ТипыСкладов.СкладЦентральногоОфиса Тогда
//	Отказ = Истина;
//Иначе
	Если Параметры.Контрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
		ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты",,,,, Ложь);
		Параметры.Контрагенты.Добавить(Источник.Контрагент);
	КонецЕсли;
//КонецЕсли;

ВходящиеДанные = Новый Структура;

Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Товары.Номенклатура                КАК Номенклатура,
|	Товары.Характеристика              КАК Характеристика,
|	Товары.Количество                  КАК Количество,
|	Товары.КоличествоУпаковок          КАК КоличествоУпаковок,
|	Товары.Упаковка                    КАК Упаковка,
|	Товары.СтавкаНДС                   КАК СтавкаНДС,
|	Товары.Цена                        КАК Цена,
|	Товары.Сумма                       КАК Сумма,
|	Товары.ПроцентАвтоматическойСкидки КАК ПроцентАвтоматическойСкидки,
|	Товары.ПроцентРучнойСкидки         КАК ПроцентРучнойСкидки,
|	Товары.СуммаАвтоматическойСкидки   КАК СуммаАвтоматическойСкидки,
|	Товары.СуммаРучнойСкидки           КАК СуммаРучнойСкидки,
|	Товары.СуммаНДС                    КАК СуммаНДС,
|	ВЫБОР	КОГДА &amp;ЦенаВключаетНДС
|			ТОГДА Товары.Сумма
|			ИНАЧЕ Товары.Сумма + Товары.СуммаНДС
|	КОНЕЦ                              КАК СуммаСНДС,
|	Товары.СтатусУказанияСерий		   КАК СтатусУказанияСерий,
|	Товары.КлючСвязи				   КАК КлючСвязи
|ИЗ
|	Документ.РеализацияТоваров.Товары КАК Товары
|ЛЕВОЕ СОЕДИНЕНИЕ
|	Справочник.Номенклатура КАК СпрНоменклатура
|ПО
|	СпрНоменклатура.Ссылка = Товары.Номенклатура
|ГДЕ
|	Товары.Ссылка = &amp;Ссылка
|	И СпрНоменклатура.ТипНоменклатуры &lt;&gt; ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.ПодарочныйСертификат)
|");
Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
Запрос.УстановитьПараметр("ЦенаВключаетНДС", Источник.ЦенаВключаетНДС);
ТаблицаТовары = Запрос.Выполнить().Выгрузить();

ВходящиеДанные.Вставить("Товары", ТаблицаТовары);</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение дополнительных реквизитов шапки
//--нет--

// Заполнение поля "Договор". Параметры:
ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
ПараметрДата                    = Объект.Дата;
ПараметрДоговорВТабличнойЧасти  = Ложь;
ПараметрИмяТабличнойЧасти       = "Товары";
ПараметрКонтрагент              = Объект.Контрагент;
ПараметрОрганизация             = Объект.Организация;
// Заполнение поля "Договор". Функция:
Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);

// Заполняет счета учетов документа
//Объект.ЗаполнитьСчетаУчетаРасчетов();
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаРасчетов);

// Заполняет счета учета табличной части "Товары"
	ДанныеОбъекта = Новый Структура("Дата, Организация, Склад, ЭтоКомиссия, Реализация");
	ЗаполнитьЗначенияСвойств(ДанныеОбъекта, Объект);
	ДанныеОбъекта.Реализация	= Истина;
	ДанныеОбъекта.ЭтоКомиссия	= (ОбщегоНазначения.ЗначениеРеквизитаОбъекта(Объект.ДоговорКонтрагента, "ВидДоговора")
		= Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером);
	
	СоответствиеСведенийОНоменклатуре = БухгалтерскийУчетПереопределяемый.ПолучитьСведенияОСпискеНоменклатуры(
		ОбщегоНазначения.ВыгрузитьКолонку(Объект.Товары, "Номенклатура", Истина), ДанныеОбъекта);
	
	Для каждого СтрокаТЧ из Объект.Товары Цикл
		СведенияОНоменклатуре = СоответствиеСведенийОНоменклатуре.Получить(СтрокаТЧ.Номенклатура);
		СчетаУчета = СведенияОНоменклатуре.СчетаУчета;
		Если ЗначениеЗаполнено(СтрокаТЧ.СчетУчетаБУ) Тогда
			СтрокаТЧ.СхемаРеализации = Справочники.СхемыРеализации.Товары;
		Иначе
			Если ЗначениеЗаполнено(СчетаУчета.СчетУчетаБУ) Тогда
				СтрокаТЧ.СчетУчетаБУ = СчетаУчета.СчетУчетаБУ;
			КонецЕсли;
			Если ЗначениеЗаполнено(СчетаУчета.СчетПередачиБУ) Тогда
				СтрокаТЧ.ПереданныеСчетУчетаБУ = СчетаУчета.СчетПередачиБУ;
			КонецЕсли;
			Если НЕ ДанныеОбъекта.ЭтоКомиссия Тогда
				Если ЗначениеЗаполнено(СчетаУчета.СхемаРеализации) Тогда
					СтрокаТЧ.СхемаРеализации = СчетаУчета.СхемаРеализации;
				КонецЕсли;
			КонецЕсли;
			Если ЗначениеЗаполнено(СчетаУчета.НалоговоеНазначение) Тогда
				СтрокаТЧ.НалоговоеНазначение = СчетаУчета.НалоговоеНазначение;
			КонецЕсли;
			Если ЗначениеЗаполнено(СчетаУчета.НалоговоеНазначениеДоходовИЗатрат) Тогда
				СтрокаТЧ.НалоговоеНазначениеДоходовИЗатрат = СчетаУчета.НалоговоеНазначениеДоходовИЗатрат;
			КонецЕсли;
		КонецЕсли;
	КонецЦикла;

// Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, "Товары", Истина, Истина);
// Заполняет счета учета табличной части "Услуги"
//Объект.ЗаполнитьСчетаУчетаВТабЧастиУслуги(Истина, Истина);</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.РеализацияТоваров</Источник>
				<Приемник>ДокументСсылка.РеализацияТоваровУслуг</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>УчитыватьНДС --&gt; СуммаВключаетНДС</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>1</Код>
						<Наименование>АдресДоставки --&gt; АдресДоставки</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="АдресДоставки" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>6</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>13</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>//ТаблицаТоваров = Новый ТаблицаЗначений;
//Выполнить(Алгоритмы.СформироватьТаблицуТоваровСКомплектующими);
//Для Каждого СтрокаТоваров Из ТаблицаТоваров Цикл
//	Если СтрокаТоваров.ПересчитыватьНДС Тогда
//		ОбработкаТабличныхЧастей.РассчитатьСуммуНДСТабЧасти(СтрокаТоваров, Источник, Источник.УчитыватьНДС, Источник.СуммаВключаетНДС);
//	КонецЕсли;
//КонецЦикла;
//КоллекцияОбъектов = ТаблицаТоваров.Скопировать();
КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
						<ПередВыгрузкой>//Если ОбъектКоллекции.Номенклатура.Услуга Тогда
//	Отказ = Истина;
//КонецЕсли;</ПередВыгрузкой>
						<Свойство>
							<Код>17</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>40</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>36</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>18</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							<ПередВыгрузкой>Отказ = Не Источник.УчитыватьНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>37</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>39</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>// Нужно для вывода в ТОРГ-12 из бухгалтерии.
Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>46</Код>
							<Наименование>Сумма --&gt; СуммаБезСкидки</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаБезСкидки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если НЕ (ОбъектКоллекции.ПроцентАвтоматическойСкидки = 0) ИЛИ (ОбъектКоллекции.ПроцентРучнойСкидки = 0)  Тогда
	Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Цена;
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ОтчетОРозничныхПродажах</Код>
				<Наименование>Документ: Отчет о розничных продажах</Наименование>
				<Порядок>450</Порядок>
				<ПередВыгрузкой>//	Если Параметры.Контрагенты.Найти(Источник.Эквайрер) = Неопределено Тогда
//		ВыгрузитьПоПравилу(Источник.Эквайрер,,,,"Контрагенты",,,,, Ложь);
//		Параметры.Контрагенты.Добавить(Источник.Эквайрер);
//	КонецЕсли;
//	Для Каждого ТекСтрока Из Источник.ОплатаБанковскимиКредитами Цикл
//		Если Параметры.Контрагенты.Найти(ТекСтрока.БанкКредитор) = Неопределено Тогда
//			ВыгрузитьПоПравилу(ТекСтрока.БанкКредитор,,,,"Контрагенты",,,,, Ложь);
//			Параметры.Контрагенты.Добавить(ТекСтрока.БанкКредитор);
//		КонецЕсли;
//	КонецЦикла;
//Запрос = Новый Запрос();
//Запрос.Текст = "
//|ВЫБРАТЬ
//|	Товары.Номенклатура       КАК Номенклатура,
//|	Товары.Характеристика     КАК Характеристика,
//|	Товары.Количество         КАК Количество,
//|	Товары.КоличествоУпаковок КАК КоличествоУпаковок,
//|	Товары.Упаковка           КАК Упаковка,
//|	Товары.СтавкаНДС          КАК СтавкаНДС,
//|	Товары.Цена               КАК Цена,
//|	Товары.Сумма              КАК Сумма,
//|	Товары.СуммаНДС           КАК СуммаНДС,
//|	Товары.СуммаАкцизногоНалога КАК СуммаАкцизногоНалога,
//|	Товары.ПодакцизныеТоварыДляКоммерческогоИспользования КАК ПодакцизныеТоварыДляКоммерческогоИспользования,
//|	Товары.СтатусУказанияСерий КАК СтатусУказанияСерий,
//|	Товары.ДисконтнаяКарта 	  КАК ДисконтнаяКарта,
//|	Товары.Продавец		 	  КАК Продавец
//|ИЗ
//|	Документ.ОтчетОРозничныхПродажах.Товары КАК Товары
//|ЛЕВОЕ СОЕДИНЕНИЕ
//|	Справочник.Номенклатура КАК СпрНоменклатура
//|ПО
//|	СпрНоменклатура.Ссылка = Товары.Номенклатура
//|ГДЕ
//|	Товары.Ссылка = &amp;Ссылка
//|	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)";

//Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
//ТаблицаТовары = Запрос.Выполнить().Выгрузить();

//ВходящиеДанные.Вставить("Товары", ТаблицаТовары);
Запросы.ОтчетОРозничныхПродажах.УстановитьПараметр("Ссылка", Источник.Ссылка);
//Запросы.ОтчетОРозничныхПродажах.УстановитьПараметр("ПередаватьЦеныХарактеристик", Параметры.РеквизитыУзла.ПередаватьЦеныХарактеристик);
РезультатыЗапроса = Запросы.ОтчетОРозничныхПродажах.ВыполнитьПакет();
ВходящиеДанные.Вставить("Товары", РезультатыЗапроса[0].Выгрузить());
ВходящиеДанные.Вставить("Оплата", РезультатыЗапроса[1].Выгрузить());</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение дополнительных реквизитов шапки
//--нет--
Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаВНациональнойВалюте;

Объект.СчетДоходовРозничныхПродаж			= ПланыСчетов.Хозрасчетный.ДоходОтРозницы;
Объект.СчетВычетаИзДоходовРозничныхПродаж	= ПланыСчетов.Хозрасчетный.ВычетыИзДоходаОтРозницы;
Объект.СчетУчетаНДС							= ПланыСчетов.Хозрасчетный.НалоговыеОбязательстваРозница;

Если Объект.Оплата.Количество() = 0 Тогда
	
	// Сначала проверим, виды оплат в табличной части,
	// если для вида оплат в БП установлены реквизиты, то
	// они будут использоваться для заполнения строк табличных частей,
	// иначе заполнение строк будет осуществлятся подбором договора контрагента,
	// переданного из реквизита "Эквайрер" РТ:
	МассивСтрокОплатыДляПодстановкиДоговораКонтрагента = Новый Массив;
	Для Каждого ТекСтрока Из Объект.Оплата Цикл
		
		ВидОплаты = ТекСтрока.ВидОплаты;
		
		// Если заполнено значение "Контрагент" для вида оплаты,
		// то это означает, что "Вид оплаты" был заполнен вручную,
		// поэтому все остальные реквизиты "Вида оплаты" тоже должны быть заполнены.
		Если ЗначениеЗаполнено(ВидОплаты.Контрагент) Тогда
			ТекСтрока.Контрагент         = ВидОплаты.Контрагент;
			ТекСтрока.ДоговорКонтрагента = ВидОплаты.ДоговорКонтрагента;
		Иначе
			// Заносим строку в массив строк для которых надо определить договор.
			МассивСтрокОплатыДляПодстановкиДоговораКонтрагента.Добавить(ТекСтрока);
		КонецЕсли;
		
		Если ЗначениеЗаполнено(ВидОплаты.СчетДеньгиВПути) Тогда
			ТекСтрока.СчетДеньгиВПути = ВидОплаты.СчетДеньгиВПути;
		Иначе
			ТекСтрока.СчетДеньгиВПути = ПланыСчетов.Хозрасчетный.ДенежныеСредстваВПутиВНациональнойВалюте;
		КонецЕсли;
				
	КонецЦикла;
	
	// Заполнение поля "Договор" строк табличной части, для которых
	// реквизиты "Выды оплаты" не установлены.
	Для Каждого ТекСтрока Из МассивСтрокОплатыДляПодстановкиДоговораКонтрагента Цикл 
	
		// Для этого переопределим "Объект", вызовем алгоритм,
		// назначим определенный в "Объекте" Договор контрагента
		// для всех строк табличной части. Параметры:
		
		ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.Прочее;
		ПараметрДата                    = Объект.Дата;
		ПараметрИмяТабличнойЧасти       = "Товары";
		ПараметрДоговорВТабличнойЧасти  = Ложь;
		ПараметрКонтрагент              = ТекСтрока.Контрагент;
		ПараметрОрганизация             = Объект.Организация;
		
		// Передадим в этот параметр "нулевое" значение, чтобы функция не "падала".
		МетаданныеДокумента = Новый Структура("Реквизиты", Новый Массив);
		
		// Кэшируем объект, чтобы в последствии "восстановить"
		кэшОбъект = Объект;
		Объект    = ТекСтрока;
		
		// Заполнение поля "Договор". Функция:
		Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
		
		// Восстанавливаем объект
		Объект = кэшОбъект;
		
	КонецЦикла;
		
КонецЕсли;

// Заполняет счета учета табличной части "Товары"
//Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, "Товары", Истина, Истина);
ТабЧасть = "Товары";
Выполнить(Алгоритмы.ЗаполнитьСчетаУчетаВТабЧасти);

// Формирует ПКО по уникальному идентификаторому, переданному из РТ
ОтчетОРозничныхПродажахУИД = Новый УникальныйИдентификатор(ПараметрыОбъекта["УникальныйИдентификаторДокумента"]);
СсылкаНаДокументПКО        = Документы.ПриходныйКассовыйОрдер.ПолучитьСсылку(ОтчетОРозничныхПродажахУИД);

СуммаНаличнойОплаты = 0;

Если ТипЗнч(ПараметрыОбъекта["ОплатаПодарочнымиСертификатами"]) = Тип("Число") Тогда
	
	СуммаНаличнойОплаты        = Число(Объект.Товары.Итог("Сумма"))+?(Объект.СуммаВключаетНДС, 0, Объект.Товары.Итог("СуммаНДС")) - Объект.Оплата.Итог("СуммаОплаты") - ПараметрыОбъекта["ОплатаПодарочнымиСертификатами"];	
	
Иначе
	
	СуммаНаличнойОплаты        = Число(Объект.Товары.Итог("Сумма"))+?(Объект.СуммаВключаетНДС, 0, Объект.Товары.Итог("СуммаНДС")) - Объект.Оплата.Итог("СуммаОплаты");
	
КонецЕсли;	
	
	
ОбъектПКО = СсылкаНаДокументПКО.ПолучитьОбъект();

Если СуммаНаличнойОплаты = 0 Тогда
	// ПКО формируется только на сумму наличной оплаты.
	// Если сумма наличной оплаты равна нулю, в этом случае не формируется ПКО.
	// Если ПКО уже сформировано, а наличной оплаты нет, ПКО помечается на удаление.
	Если ОбъектПКО &lt;&gt; Неопределено Тогда
		ОбъектПКО.УстановитьПометкуУдаления(Истина);
	КонецЕсли;
Иначе
	// Есть наличная оплата Формируется ПКО
	Если ОбъектПКО = Неопределено Тогда
		НовыйПКО  = Истина;
		ОбъектПКО = Документы.ПриходныйКассовыйОрдер.СоздатьДокумент();
		ОбъектПКО.УстановитьСсылкуНового(СсылкаНаДокументПКО);
	Иначе
		НовыйПКО  = Ложь;
	КонецЕсли;

	ПараметрОбъект    = ОбъектПКО;
	ПараметрОснование = Объект;

	//// Процедура - обработчик события "ОбработкаЗаполнения".
	//   Параметры:
	//   ПараметрОбъект    - Объект "Приходный кассовый ордер"
	//   ПараметрОснование - Ссылка на документ "Отчет о розничных продажах"
	//

	// Заполним реквизиты из стандартного набора по документу основанию.
	ЗаполнениеДокументов.Заполнить(ПараметрОбъект, ПараметрОснование);
	СтруктураКурсаДокумента = МодульВалютногоУчета.ПолучитьКурсВалюты(Параметры.ВалютаРегламентированногоУчета, ПараметрОснование.Дата);

	Если НовыйПКО Тогда
		ПараметрОбъект.УстановитьНовыйНомер(ПараметрОбъект.Организация.Префикс);
	КонецЕсли;

	ПараметрОбъект.ДокументОснование  = ПараметрОснование;
	ПараметрОбъект.Дата               = ПараметрОснование.Дата;
	ПараметрОбъект.Контрагент         = ПараметрОснование.Склад;
	ПараметрОбъект.Организация        = ПараметрОснование.Организация;
	ПараметрОбъект.ПометкаУдаления    = ПараметрОснование.ПометкаУдаления;
	ПараметрОбъект.ВалютаДокумента    = Параметры.ВалютаРегламентированногоУчета;
	//ПараметрОбъект.КурсДокумента      = СтруктураКурсаДокумента.Курс;
	//ПараметрОбъект.КратностьДокумента = СтруктураКурсаДокумента.Кратность;
	ПараметрОбъект.ВидОперации        = Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствРозничнаяВыручка;
	ПараметрОбъект.СуммаДокумента     = СуммаНаличнойОплаты;

	// Параметры документа которые могут быть изменены "вручную" и их не стоит менять при перегрузке:
	Если ПараметрОбъект.СтатьяДвиженияДенежныхСредств = Неопределено ИЛИ ПараметрОбъект.СтатьяДвиженияДенежныхСредств.Пустая() Тогда
		ПараметрОбъект.СтатьяДвиженияДенежныхСредств = ПараметрОснование.СтатьяДвиженияДенежныхСредств;
	КонецЕсли;
	Если ПараметрОбъект.Ответственный = Неопределено ИЛИ ПараметрОбъект.Ответственный.Пустая() Тогда
		ПараметрОбъект.Ответственный  = ПараметрОснование.Ответственный;
	КонецЕсли;
	Если ПараметрОбъект.СчетКасса = Неопределено ИЛИ ПараметрОбъект.СчетКасса.Пустая() Тогда
		ПараметрОбъект.СчетКасса      = ПланыСчетов.Хозрасчетный.КассаВНациональнойВалюте;
	КонецЕсли;

	// Вычитаем оплату по безналичному расчету

	ПараметрОбъект.РасшифровкаПлатежа.Очистить();
	СтрокаПлатеж                         = ПараметрОбъект.РасшифровкаПлатежа.Добавить();
	СтрокаПлатеж.КурсВзаиморасчетов      = 1;
	СтрокаПлатеж.КратностьВзаиморасчетов = 1;
	СтрокаПлатеж.СуммаПлатежа            = СуммаНаличнойОплаты;
	СтрокаПлатеж.СуммаВзаиморасчетов     = СуммаНаличнойОплаты;

	////// Вычисление ставки НДС для документа по учетной политике:
	////УчетнаяПолитика = ОбщегоНазначения.ПолучитьПараметрыУчетнойПолитики(ПараметрОбъект.Дата, Ложь, ПараметрОбъект.Организация);
	////СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
	////Выполнить(Алгоритмы.ОпределитьСтавкуНДС);
	////СтрокаПлатеж.СтавкаНДС = СтавкаНДС;
    ////
	////ПараметрОбъект.ПересчитатьСуммуНДС(СтрокаПлатеж);
    ////
	////НалоговыйУчетУСН.ЗаполнитьНастройкуКУДиР(ПараметрОбъект, , Ложь);

	////////////////////////////////////////////////////////////////////
	// Запись документа в ИБ
	//
	// определим как записывать документ
	Если ПараметрОснование.Проведен И Не СуммаНаличнойОплаты = 0 Тогда
		РежимЗаписи = РежимЗаписиДокумента.Проведение;
	Иначе
		РежимЗаписи = РежимЗаписиДокумента.ОтменаПроведения;
	КонецЕсли;
	РежимПроведения = РежимПроведенияДокумента.Неоперативный;

	ТипОбъектаПКО = ТипЗнч(ПараметрОбъект);
	Если Не СуммаНаличнойОплаты = 0 Тогда
		Попытка
			// записываем документ - проверяем наличие коллизий
			//НаличиеКоллизии = ПроверитьНаличиеКоллизийИзмененийДляОбъекта(ПараметрОбъект, ТипОбъектаПКО,, );//ПриоритетОбъектаОбмена);
			// проведение убираем всегда...
			ОтменитьПроведениеОбъектаВИБ(ПараметрОбъект, ТипОбъектаПКО);
			//Если НЕ ОбъектНайденПоКлючуВПриемнике Тогда
			//	ЗарегистрироватьСоответ ствиеОбъектовДляОбмена(ПараметрОбъект.Ссылка, СвойстваПоиска);
			//КонецЕсли;
			//ДобавитьСсылкуВСписокЗагруженныхОбъектов(НППГлобальнойСсылки, НппСсылки, ПараметрОбъект.Ссылка, ТипОбъектаПКО);
								
			Если РежимЗаписи = РежимЗаписиДокумента.Проведение Тогда
						
				НаборЗаписейРегистра = РегистрыСведений.ОтложенныеДвиженияДокументов.СоздатьНаборЗаписей();
				НаборЗаписейРегистра.Отбор.УзелОбмена.Установить(УзелОбменаЗагрузкаДанных);
				НаборЗаписейРегистра.Отбор.Документ.Установить(ПараметрОбъект.Ссылка);
				
				СтрокаНабора = НаборЗаписейРегистра.Добавить();
				СтрокаНабора.УзелОбмена    = УзелОбменаЗагрузкаДанных;
				СтрокаНабора.Документ      = ПараметрОбъект.Ссылка;
				СтрокаНабора.ДатаДокумента = ПараметрОбъект.Дата;
				
				ЗаписатьОбъектВИБ(НаборЗаписейРегистра, "РегистрСведенийНаборЗаписей.ОтложенныеДвиженияДокументов");
				
			КонецЕсли;
			
		Исключение
			
			СтрокаОписанияОшибки = ОписаниеОшибки();
			
			// не смогли выполнить необходимые действия для документа
			ЗаписатьДокументВБезопасномРежиме(ПараметрОбъект, ТипОбъектаПКО);
				
			//ЗП        = ПолучитьСтруктуруЗаписиПротокола(25, СтрокаОписанияОшибки);
			//ЗП.ИмяПКО = ИмяПравила;

			//Если Не ПустаяСтрока(Источник) Тогда	
			//	ЗП.Источник = Источник;
			//КонецЕсли;
			//
			//ЗП.ТипОбъекта = ТипОбъектаПКО;
			//ЗП.Объект     = Строка(ПараметрОбъект);
			//ЗаписатьВПротоколВыполнения(25, ЗП);
			
			// объект не смогли в нормальном режиме записать - надо об этом сообщить
			//ВызватьИсключение "Ошибка при записи документа: " + Строка(ПараметрОбъект) + Символы.ПС + СтрокаОписанияОшибки;
			
		КонецПопытки;
		
	Иначе //сумма наличными 0
		
		//нужно удалить ПКО
		
	КонецЕсли;
КонецЕсли;

//Заполним статью налоговой декларации
Для Каждого СтрокаТовары Из Объект.Товары Цикл
	СтрокаТовары.СтатьяДекларацииПоАкцизномуНалогу = СтрокаТовары.Номенклатура.СтатьяДекларацииПоАкцизномуНалогу;	
КонецЦикла;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<ГенерироватьНовыйНомерИлиКодЕслиНеУказан>true</ГенерироватьНовыйНомерИлиКодЕслиНеУказан>
				<Источник>ДокументСсылка.ОтчетОРозничныхПродажах</Источник>
				<Приемник>ДокументСсылка.ОтчетОРозничныхПродажах</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>--&gt; Склад</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Склад" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.Магазин) Тогда
 
 	Значение = Источник.Магазин; 
	
Иначе
	
	Отказ = Истина;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>23</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>УчитыватьНДС --&gt; СуммаВключаетНДС</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="УчитыватьНДС" Вид="Реквизит" Тип="Булево"/>
						<Приемник Имя="СуммаВключаетНДС" Вид="Реквизит" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>6</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>37</Код>
						<Наименование>Эквайрер --&gt; Контрагент</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="Эквайрер" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="" Вид=""/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						<ИмяПараметраДляПередачи>Контрагент</ИмяПараметраДляПередачи>
					</Свойство>
					<Свойство>
						<Код>38</Код>
						<Наименование>--&gt; УникальныйИдентификаторДокумента</Наименование>
						<Порядок>650</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>УникальныйИдентификаторДокумента</ИмяПараметраДляПередачи>
						<ПередВыгрузкой>Значение = Строка(Источник.Ссылка.УникальныйИдентификатор());</ПередВыгрузкой>
					</Свойство>
					<Группа>
						<Код>13</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>
КоллекцияОбъектов = ВходящиеДанные.Товары;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>18</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;
//Если ОбъектКоллекции.Номенклатура.Услуга И ОбъектКоллекции.Коэффициент = 0 Тогда
//	Значение = ОбъектКоллекции.Количество;
//КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Если ОбъектКоллекции.Номенклатура.Услуга Тогда
//	Значение = ОбъектКоллекции.Цена;
//	Если ОбъектКоллекции.Коэффициент &lt;&gt; 0 Тогда
//		Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;
//	КонецЕсли;
//Иначе
//	Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;
//КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>16</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>17</Код>
							<Наименование>СтавкаНДС --&gt; СтавкаНДС</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<Приемник Имя="СтавкаНДС" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<КодПравилаКонвертации>СтавкиНДС                                         </КодПравилаКонвертации>
							<ПередВыгрузкой>Отказ = Не Источник.УчитыватьНДС;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>15</Код>
							<Наименование>СуммаНДС --&gt; СуммаНДС</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаНДС" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>59</Код>
							<Наименование>Сумма --&gt; СуммаБезСкидки</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаБезСкидки" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>62</Код>
							<Наименование>--&gt; СуммаСкидки</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаСкидки" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = (ОбъектКоллекции.Количество * ОбъектКоллекции.Цена) - (ОбъектКоллекции.Сумма);</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>63</Код>
							<Наименование>ПодакцизныеТоварыДляКоммерческогоИспользования --&gt; ПодакцизныеТоварыДляКоммерческогоИспользования</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="ПодакцизныеТоварыДляКоммерческогоИспользования" Вид="Реквизит" Тип="Булево"/>
							<Приемник Имя="ПодакцизныеТоварыДляКоммерческогоИспользования" Вид="Реквизит" Тип="Булево"/>
						</Свойство>
						<Свойство>
							<Код>64</Код>
							<Наименование>СуммаАкцизногоНалога --&gt; СуммаАкцизногоНалога</Наименование>
							<Порядок>650</Порядок>
							<Источник Имя="СуммаАкцизногоНалога" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаАкцизногоНалога" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
					<Группа Отключить="true">
						<Код>26</Код>
						<Наименование>ОплатаПлатежнымиКартами --&gt; Оплата</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="ОплатаПлатежнымиКартами" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>27</Код>
							<Наименование>ВидОплаты --&gt; ВидОплаты</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатЧекаККМ"/>
							<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатОрганизаций"/>
							<КодПравилаКонвертации>ВидыОплатЧекаККМ                                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>30</Код>
							<Наименование>--&gt; Контрагент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Источник.Эквайрер;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>29</Код>
							<Наименование>Сумма --&gt; СуммаОплаты</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
						</Свойство>
					</Группа>
					<Группа Отключить="true">
						<Код>31</Код>
						<Наименование>ОплатаБанковскимиКредитами --&gt; Оплата</Наименование>
						<Порядок>900</Порядок>
						<Источник Имя="ОплатаБанковскимиКредитами" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>НеОчищать = Истина;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>32</Код>
							<Наименование>ВидОплаты --&gt; ВидОплаты</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатЧекаККМ"/>
							<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатОрганизаций"/>
							<КодПравилаКонвертации>ВидыОплатЧекаККМ                                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>34</Код>
							<Наименование>БанкКредитор --&gt; Контрагент</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="БанкКредитор" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>35</Код>
							<Наименование>Сумма --&gt; СуммаОплаты</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство Отключить="true">
							<Код>69</Код>
							<Наименование>--&gt; СчетДеньгиВПути</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДеньгиВПути" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = ПланыCчетов.Хозрасчетный.НайтиПоКоду("333");</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>39</Код>
						<Наименование>ОплатаПодарочнымиСертификатами --&gt; ОплатаПодарочнымиСертификатами</Наименование>
						<Порядок>950</Порядок>
						<Источник Имя="ОплатаПодарочнымиСертификатами" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="" Вид=""/>
						<ИмяПараметраДляПередачи>ОплатаПодарочнымиСертификатами</ИмяПараметраДляПередачи>
					</Свойство>
					<Группа>
						<Код>70</Код>
						<Наименование>--&gt; Оплата</Наименование>
						<Порядок>1000</Порядок>
						<ПолучитьИзВходящихДанных>true</ПолучитьИзВходящихДанных>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="Оплата" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>71</Код>
							<Наименование>--&gt; ВидОплаты</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидОплаты" Вид="Реквизит" Тип="СправочникСсылка.ВидыОплатОрганизаций"/>
							<КодПравилаКонвертации>ВидыОплатЧекаККМ                                  </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>72</Код>
							<Наименование>--&gt; Контрагент</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
							<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>73</Код>
							<Наименование>--&gt; СуммаОплаты</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаОплаты" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>74</Код>
							<Наименование>--&gt; СчетДеньгиВПути</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СчетДеньгиВПути" Вид="Реквизит" Тип="ПланСчетовСсылка.Хозрасчетный"/>
							<ПередВыгрузкой>Значение = "ДенежныеСредстваВПутиВНациональнойВалюте";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>75</Код>
							<Наименование>--&gt; ДоговорКонтрагента</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ДоговорКонтрагента" Вид="Реквизит" Тип="СправочникСсылка.ДоговорыКонтрагентов"/>
							<КодПравилаКонвертации>ДоговорыКонтрагентов                              </КодПравилаКонвертации>
							<ПередВыгрузкой>Значение = Новый Структура;
Значение.Вставить("Ссылка");
Значение.Вставить("ВидДоговора", "Прочее");
Значение.Вставить("Владелец",    ОбъектКоллекции.Контрагент);
Значение.Вставить("Организация", Источник.Организация);</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПеремещениеТоваров</Код>
				<Наименование>Документ: Перемещение товаров</Наименование>
				<Порядок>500</Порядок>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение дополнительных реквизитов шапки
//--нет--

// Заполняет счета учета табличной части "Товары"
//Объект.ЗаполнитьСчетаУчетаВТабЧасти(Объект.Товары, "Товары", Истина, Истина);
	ДанныеОбъекта = Новый Структура("Дата, Организация, Склад");
	ЗаполнитьЗначенияСвойств(ДанныеОбъекта, Объект);
	
	ДанныеОбъекта.Склад = Объект.СкладОтправитель;
	СоответствиеСчетовУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаСпискаНоменклатуры(
		ДанныеОбъекта.Организация, ОбщегоНазначения.ВыгрузитьКолонку(Объект.Товары, "Номенклатура", Истина), ДанныеОбъекта.Склад, ДанныеОбъекта.Дата);
	
	ДанныеОбъекта.Склад = Объект.СкладПолучатель;
	СоответствиеНовыхСчетовУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаУчетаСпискаНоменклатуры(
		ДанныеОбъекта.Организация, ОбщегоНазначения.ВыгрузитьКолонку(Объект.Товары, "Номенклатура", Истина), ДанныеОбъекта.Склад, ДанныеОбъекта.Дата);
		
	Для каждого СтрокаТабЧасти Из Объект.Товары Цикл
		СчетаУчета		= СоответствиеСчетовУчета.Получить(СтрокаТабЧасти.Номенклатура);
		НовыеСчетаУчета	= СоответствиеНовыхСчетовУчета.Получить(СтрокаТабЧасти.Номенклатура);
		СтрокаТабЧасти.СчетУчетаБУ      = СчетаУчета.СчетУчетаБУ;
		СтрокаТабЧасти.НовыйСчетУчетаБУ = НовыеСчетаУчета.СчетУчетаБУ;
	КонецЦикла;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПеремещениеТоваров</Источник>
				<Приемник>ДокументСсылка.ПеремещениеТоваров</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>5</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>24</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>29</Код>
						<Наименование>--&gt; СкладОтправитель</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СкладОтправитель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.МагазинОтправитель) Тогда
 
 	Значение = Источник.МагазинОтправитель; 
	
Иначе
	
	Значение = Источник.СкладОтправитель;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>30</Код>
						<Наименование>--&gt; СкладПолучатель</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="" Вид=""/>
						<Приемник Имя="СкладПолучатель" Вид="Реквизит" Тип="СправочникСсылка.Склады"/>
						<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
						<ПередВыгрузкой>Если ЗначениеЗаполнено(Источник.МагазинПолучатель) Тогда
 
 	Значение = Источник.МагазинПолучатель; 
	
Иначе
	
	Значение = Источник.СкладПолучатель;
	
КонецЕсли;</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>7</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>13</Код>
						<Наименование>Товары --&gt; Товары</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="Товары" Вид="ТабличнаяЧасть"/>
						<ПередВыгрузкой>Запрос = Новый Запрос("
|ВЫБРАТЬ
|	Товары.Номенклатура       			  КАК Номенклатура,
|	Товары.Характеристика    			  КАК Характеристика,
|	Товары.Количество        			  КАК Количество,
|	Товары.КоличествоУпаковок			  КАК КоличествоУпаковок,
|	Товары.Упаковка           			  КАК Упаковка,
|	Товары.СтатусУказанияСерий 			  КАК СтатусУказанияСерий,
|	Товары.СтатусУказанияСерийОтправитель КАК СтатусУказанияСерийОтправитель,
|	Товары.СтатусУказанияСерийПолучатель  КАК СтатусУказанияСерийПолучатель
|ИЗ
|	Документ.ПеремещениеТоваров.Товары КАК Товары
|ЛЕВОЕ СОЕДИНЕНИЕ
|	Справочник.Номенклатура КАК СпрНоменклатура
|ПО
|	СпрНоменклатура.Ссылка = Товары.Номенклатура
|ГДЕ
|	Товары.Ссылка = &amp;Ссылка
|	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
|");
 Запрос.УстановитьПараметр("Ссылка", Источник.Ссылка);
 КоллекцияОбъектов = Запрос.Выполнить().Выгрузить();</ПередВыгрузкой>
						<Свойство>
							<Код>18</Код>
							<Наименование>Номенклатура --&gt; Номенклатура</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<Приемник Имя="Номенклатура" Вид="Реквизит" Тип="СправочникСсылка.Номенклатура"/>
							<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Количество --&gt; Количество</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Количество" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Количество * ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>Цена --&gt; Цена</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>//Значение = ОбъектКоллекции.Цена / ОбъектКоллекции.Коэффициент;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; ЕдиницаИзмерения</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ЕдиницаИзмерения" Вид="Реквизит" Тип="СправочникСсылка.КлассификаторЕдиницИзмерения"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.ЕдиницаИзмерения;
Иначе 
	Значение = ОбъектКоллекции.Номенклатура.ЕдиницаИзмерения;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; Коэффициент</Наименование>
							<Порядок>450</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="Коэффициент" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Если ЗначениеЗаполнено(ОбъектКоллекции.Номенклатура.НаборУпаковок) Тогда 
	Значение = ОбъектКоллекции.Упаковка.Коэффициент;
Иначе 
	Значение = 1.000;	
КонецЕсли</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>31</Код>
							<Наименование>Цена --&gt; ЦенаВРознице</Наименование>
							<Порядок>500</Порядок>
							<Источник Имя="Цена" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="ЦенаВРознице" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>32</Код>
							<Наименование>--&gt; СуммаВРознице</Наименование>
							<Порядок>550</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СуммаВРознице" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Цена * ОбъектКоллекции.Количество;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>33</Код>
							<Наименование>--&gt; СтавкаНДСВРознице</Наименование>
							<Порядок>600</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="СтавкаНДСВРознице" Вид="Реквизит" Тип="ПеречислениеСсылка.СтавкиНДС"/>
							<ПередВыгрузкой>Значение = ОбъектКоллекции.Номенклатура.СтавкаНДС;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>Документ: Приходный кассовый ордер</Наименование>
				<Порядок>550</Порядок>
				<ПередВыгрузкой>Если Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеДенежныхСредствИзКассыККМ Тогда
	Отказ = Истина;
Иначе
	Если ЗначениеЗаполнено(Источник.Контрагент) Тогда
		Если Параметры.Контрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
			ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты",,,,, Ложь);
			Параметры.Контрагенты.Добавить(Источник.Контрагент);
		КонецЕсли;
	Иначе
		Отказ = Истина;
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

// Заполнение дополнительных реквизитов шапки


Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;

// Заполнение поля "Договор". Параметры:
ПараметрВидДоговора = Неопределено;
СтатьяДвиженияДенежныхСредств = Неопределено;
Если Объект.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя Тогда
	
	ПараметрВидДоговора           = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;	
	//СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.ОплатаПокупателя;
	
ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком Тогда
	
	ПараметрВидДоговора           = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком;		
	//СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.ВозвратДенежныхСредствПоставщиком;
	
ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийПКО.ПриходДенежныхСредствПрочее Тогда
	
	ПараметрВидДоговора           = Перечисления.ВидыДоговоровКонтрагентов.Прочее;		
	//СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.ПрочиеРасчетыСКонтрагентами;
	
КонецЕсли;

Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаВНациональнойВалюте;
Объект.СчетВычетаИзДоходовРозничныхПродаж = ПланыСчетов.Хозрасчетный.ВычетыИзДоходаОтРозницы;
Объект.ВыводитьНаПечатьСуммуНДС = (Объект.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя
							   ИЛИ Объект.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком);

//договор определяем, только если ПКО - оплата от покупателя или возврат поставщику
Если ПараметрВидДоговора &lt;&gt; Неопределено Тогда
							   
	ПараметрДата                    = Объект.Дата;
	ПараметрДоговорВТабличнойЧасти  = Истина;
	ПараметрИмяТабличнойЧасти       = "РасшифровкаПлатежа";
	ПараметрКонтрагент              = Объект.Контрагент;
	ПараметрОрганизация             = Объект.Организация;

	// Заполнение поля "Договор" для каждой строки ТЧ:
	Для Каждого СтрокаРасшифровкиПлатежа Из Объект.РасшифровкаПлатежа Цикл
		
		кэшОбъект = Объект;
		Объект    = СтрокаРасшифровкиПлатежа;
		Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
		Объект = кэшОбъект; 
		
		//Расчитает сумму взаиморасчетов
		Если ЗначениеЗаполнено(СтрокаРасшифровкиПлатежа.ДоговорКонтрагента) Тогда
			
			Если СтрокаРасшифровкиПлатежа.ДоговорКонтрагента.ВалютаВзаиморасчетов = Объект.ВалютаДокумента Тогда
					
				СтрокаРасшифровкиПлатежа.СуммаВзаиморасчетов = СтрокаРасшифровкиПлатежа.СуммаПлатежа;
				
			Иначе
			
				СтрокаРасшифровкиПлатежа.СуммаВзаиморасчетов = СтрокаРасшифровкиПлатежа.СуммаПлатежа *  СтрокаРасшифровкиПлатежа.КратностьВзаиморасчетов
							/ СтрокаРасшифровкиПлатежа.КурсВзаиморасчетов;
							
			КонецЕсли;
			
			СчетаУчета = БухгалтерскийУчетРасчетовСКонтрагентами.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, СтрокаРасшифровкиПлатежа.ДоговорКонтрагента);
		
			Если Объект.ВидОперации = Перечисления.ВидыОперацийПКО.ВозвратДенежныхСредствПоставщиком тогда
				
				СтрокаРасшифровкиПлатежа.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
				СтрокаРасшифровкиПлатежа.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
				
				СтрокаРасшифровкиПлатежа.СчетУчетаНДС    				= СчетаУчета.СчетУчетаНДСПриобретений;
				СтрокаРасшифровкиПлатежа.СчетУчетаНДСПодтвержденный     = СчетаУчета.СчетУчетаНДСПриобретенийПодтвержденный;
				СтрокаРасшифровкиПлатежа.НалоговоеНазначение 			= СчетаУчета.НалоговоеНазначениеПриобретений;
				Если СтрокаРасшифровкиПлатежа.ЗаТару Тогда
					СтрокаРасшифровкиПлатежа.НалоговоеНазначение 		= СчетаУчета.НалоговоеНазначениеПриобретенийПоТаре;
				КонецЕсли;
				СтрокаРасшифровкиПлатежа.СтавкаНДС		  				= СчетаУчета.СтавкаНДСПриобретений;
				
			Иначе
				
				СтрокаРасшифровкиПлатежа.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
				СтрокаРасшифровкиПлатежа.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансовПокупателя;
				
				СтрокаРасшифровкиПлатежа.СчетУчетаНДС    				= СчетаУчета.СчетУчетаНДСПродаж;
				СтрокаРасшифровкиПлатежа.СчетУчетаНДСПодтвержденный     = СчетаУчета.СчетУчетаНДСПродажПодтвержденный;
				СтрокаРасшифровкиПлатежа.НалоговоеНазначение 			= СчетаУчета.НалоговоеНазначениеПродаж;
				Если СтрокаРасшифровкиПлатежа.ЗаТару Тогда
					СтрокаРасшифровкиПлатежа.НалоговоеНазначение 		= СчетаУчета.НалоговоеНазначениеПродажПоТаре;
				КонецЕсли;
				СтрокаРасшифровкиПлатежа.СтавкаНДС		  				= СчетаУчета.СтавкаНДСПродаж;
				
			КонецЕсли;
			
		КонецЕсли;
		
		//Если веде  - уберем ДокументРасчетовСКонтрагентом
		Если Объект.ВидОперации = Перечисления.ВидыОперацийПКО.ОплатаПокупателя 
			И ЗначениеЗаполнено(СтрокаРасшифровкиПлатежа.ДоговорКонтрагента) 
			И НЕ СтрокаРасшифровкиПлатежа.ДоговорКонтрагента.ВедениеВзаиморасчетов = Перечисления.ВедениеВзаиморасчетовПоДоговорам.ПоРасчетнымДокументам Тогда		
			СтрокаРасшифровкиПлатежа.Сделка = Неопределено;
		КонецЕсли;
		
		////установим статью движения денежных средств
		//СтрокаРасшифровкиПлатежа.СтатьяДвиженияДенежныхСредств = СтатьяДвиженияДенежныхСредств;
		
	КонецЦикла;

КонецЕсли;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ПриходныйКассовыйОрдер</Источник>
				<Приемник>ДокументСсылка.ПриходныйКассовыйОрдер</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>ХозяйственнаяОперация --&gt; ВидОперации</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийПКО"/>
						<КодПравилаКонвертации>ВидыОперацийПКО                                   </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ДокументОснование" Вид="Реквизит"/>
						<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="Контрагент" Вид="Реквизит"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>12</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>17</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Основание --&gt; Основание</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Приложение --&gt; Приложение</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>ПринятоОт --&gt; ПринятоОт</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПринятоОт" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>14</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>3</Код>
						<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>6</Код>
							<Наименование>Сумма --&gt; СуммаПлатежа</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>ДокументРасчетовСКонтрагентом --&gt; Сделка</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДокументРасчетовСКонтрагентом" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
					</Группа>
					<Свойство>
						<Код>22</Код>
						<Наименование>ВТомЧислеНДС --&gt; Комментарий</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="ВТомЧислеНДС" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>Документ: Расходный кассовый ордер</Наименование>
				<Порядок>600</Порядок>
				<ПередВыгрузкой>Если Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВыплатаЗаработнойПлатыПоВедомостям 
	ИЛИ Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВыдачаДенежныхСредствВКассуККМ Тогда
	Отказ = Истина;
Иначе
	Если ЗначениеЗаполнено(Источник.Контрагент) Тогда
		Если Параметры.Контрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
			ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты",,,,, Ложь);
			Параметры.Контрагенты.Добавить(Источник.Контрагент);
		КонецЕсли;
	Иначе
		Отказ = Истина;
	КонецЕсли;
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

//валюты
Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;

//заполним признак опер. учета и признак оплаты

ПараметрВидДоговора = Неопределено;
СтатьяДвиженияДенежныхСредств = Неопределено;

// Заполнение поля "Договор". Параметры:
Если Объект.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику Тогда
	
	ПараметрВидДоговора           = Перечисления.ВидыДоговоровКонтрагентов.СПоставщиком;
	//СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.ОплатаПоставщику;
	
ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийРКО.ВозвратДенежныхСредствПокупателю Тогда
	
	ПараметрВидДоговора           = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
	//СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.ВозвратДенежныхСредствПокупателю;
	
ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийРКО.РасходДенежныхСредствПрочее Тогда
	
	ПараметрВидДоговора           = Перечисления.ВидыДоговоровКонтрагентов.Прочее;
	//СтатьяДвиженияДенежныхСредств = Справочники.СтатьиДвиженияДенежныхСредств.ПрочиеРасчетыСКонтрагентами;
	
КонецЕсли;

Объект.СчетКасса = ПланыСчетов.Хозрасчетный.КассаВНациональнойВалюте;


//договор определяем, только если РКО - оплата покупателю или возврат от поставщика
Если ПараметрВидДоговора &lt;&gt; Неопределено Тогда

	ПараметрДата                    = Объект.Дата;
	ПараметрДоговорВТабличнойЧасти  = Истина;
	ПараметрИмяТабличнойЧасти       = "РасшифровкаПлатежа";
	ПараметрКонтрагент              = Объект.Контрагент;
	ПараметрОрганизация             = Объект.Организация;

	// Заполнение поля "Договор" для каждой строки ТЧ:
	Для Каждого СтрокаРасшифровкиПлатежа Из Объект.РасшифровкаПлатежа Цикл
		
		кэшОбъект = Объект;
		Объект    = СтрокаРасшифровкиПлатежа;
		Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
		Объект = кэшОбъект; 
		
		//Расчитает сумму взаиморасчетов
		Если ЗначениеЗаполнено(СтрокаРасшифровкиПлатежа.ДоговорКонтрагента) Тогда
			
			Если СтрокаРасшифровкиПлатежа.ДоговорКонтрагента.ВалютаВзаиморасчетов = Объект.ВалютаДокумента Тогда
				СтрокаРасшифровкиПлатежа.СуммаВзаиморасчетов = СтрокаРасшифровкиПлатежа.СуммаПлатежа;
			Иначе
				СтрокаРасшифровкиПлатежа.СуммаВзаиморасчетов = СтрокаРасшифровкиПлатежа.СуммаПлатежа *  СтрокаРасшифровкиПлатежа.КратностьВзаиморасчетов
				/ СтрокаРасшифровкиПлатежа.КурсВзаиморасчетов;
			КонецЕсли;
			
			СчетаУчета = БухгалтерскийУчетРасчетовСКонтрагентами.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, СтрокаРасшифровкиПлатежа.ДоговорКонтрагента);

			Если Объект.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику тогда
				
				СтрокаРасшифровкиПлатежа.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
				СтрокаРасшифровкиПлатежа.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансов;
				
				СтрокаРасшифровкиПлатежа.СчетУчетаНДС    				= СчетаУчета.СчетУчетаНДСПриобретений;
				СтрокаРасшифровкиПлатежа.СчетУчетаНДСПодтвержденный     = СчетаУчета.СчетУчетаНДСПриобретенийПодтвержденный;
				СтрокаРасшифровкиПлатежа.НалоговоеНазначение 			= СчетаУчета.НалоговоеНазначениеПриобретений;
				Если СтрокаРасшифровкиПлатежа.ЗаТару Тогда
					СтрокаРасшифровкиПлатежа.НалоговоеНазначение 		= СчетаУчета.НалоговоеНазначениеПриобретенийПоТаре;
				КонецЕсли;
				СтрокаРасшифровкиПлатежа.СтавкаНДС		  				= СчетаУчета.СтавкаНДСПриобретений;
				
			ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийРКО.ИнкассацияДенежныхСредств тогда
				
				СчетУчетаРасчетовСКонтрагентом = ПланыСчетов.Хозрасчетный.ДенежныеСредстваВПутиВНациональнойВалюте;
				
			Иначе
				
				СтрокаРасшифровкиПлатежа.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
				СтрокаРасшифровкиПлатежа.СчетУчетаРасчетовПоАвансам     = СчетаУчета.СчетАвансовПокупателя;
				
				СтрокаРасшифровкиПлатежа.СчетУчетаНДС    				= СчетаУчета.СчетУчетаНДСПродаж;
				СтрокаРасшифровкиПлатежа.СчетУчетаНДСПодтвержденный     = СчетаУчета.СчетУчетаНДСПродажПодтвержденный;
				СтрокаРасшифровкиПлатежа.НалоговоеНазначение 			= СчетаУчета.НалоговоеНазначениеПродаж;
				Если СтрокаРасшифровкиПлатежа.ЗаТару Тогда
					СтрокаРасшифровкиПлатежа.НалоговоеНазначение 		= СчетаУчета.НалоговоеНазначениеПродажПоТаре;
				КонецЕсли;
				СтрокаРасшифровкиПлатежа.СтавкаНДС		  				= СчетаУчета.СтавкаНДСПродаж;
				
			КонецЕсли;
			
		КонецЕсли;
		
		//Уберем ДокументРасчетовСКонтрагентом
		Если Объект.ВидОперации = Перечисления.ВидыОперацийРКО.ОплатаПоставщику 
			И ЗначениеЗаполнено(СтрокаРасшифровкиПлатежа.ДоговорКонтрагента) 
			И НЕ СтрокаРасшифровкиПлатежа.ДоговорКонтрагента.ВедениеВзаиморасчетов = Перечисления.ВедениеВзаиморасчетовПоДоговорам.ПоРасчетнымДокументам Тогда		
			СтрокаРасшифровкиПлатежа.Сделка = Неопределено;
		КонецЕсли;
		
		////установим статью движения денежных средств
		//СтрокаРасшифровкиПлатежа.СтатьяДвиженияДенежныхСредств = СтатьяДвиженияДенежныхСредств;
		
	КонецЦикла;
	
КонецЕсли</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.РасходныйКассовыйОрдер</Источник>
				<Приемник>ДокументСсылка.РасходныйКассовыйОрдер</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>8</Код>
						<Наименование>ХозяйственнаяОперация --&gt; ВидОперации</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийРКО"/>
						<КодПравилаКонвертации>ВидыОперацийРКО                                   </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>9</Код>
						<Наименование>ДокументОснование --&gt; ДокументОснование</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="ДокументОснование" Вид="Реквизит"/>
						<Приемник Имя="ДокументОснование" Вид="Реквизит"/>
					</Свойство>
					<Свойство>
						<Код>11</Код>
						<Наименование>Контрагент --&gt; Контрагент</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит"/>
						<Приемник Имя="Контрагент" Вид="Реквизит"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>13</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>18</Код>
						<Наименование>СуммаДокумента --&gt; СуммаДокумента</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
						<Приемник Имя="СуммаДокумента" Вид="Реквизит" Тип="Число"/>
					</Свойство>
					<Свойство>
						<Код>21</Код>
						<Наименование>Выдать --&gt; Выдать</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Выдать" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>14</Код>
						<Наименование>Основание --&gt; Основание</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Основание" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>16</Код>
						<Наименование>Приложение --&gt; Приложение</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Приложение" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>22</Код>
						<Наименование>ПоДокументу --&gt; ПоДокументу</Наименование>
						<Порядок>600</Порядок>
						<Источник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="ПоДокументу" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>19</Код>
						<Наименование>ПометкаУдаления --&gt; ПометкаУдаления</Наименование>
						<Порядок>650</Порядок>
						<Источник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="ПометкаУдаления" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>20</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>700</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>10</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>750</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>15</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>800</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>3</Код>
						<Наименование>РасшифровкаПлатежа --&gt; РасшифровкаПлатежа</Наименование>
						<Порядок>850</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>7</Код>
							<Наименование>Сумма --&gt; СуммаПлатежа</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаПлатежа" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>6</Код>
							<Наименование>ДокументРасчетовСКонтрагентом --&gt; Сделка</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="ДокументРасчетовСКонтрагентом" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>СтатьяДвиженияДенежныхСредств --&gt; СтатьяДвиженияДенежныхСредств</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<Приемник Имя="СтатьяДвиженияДенежныхСредств" Вид="Реквизит" Тип="СправочникСсылка.СтатьиДвиженияДенежныхСредств"/>
							<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>ОплатаОтПокупателяПлатежнойКартой</Код>
				<Наименование>Документ: Оплата от покупателя платежной картой</Наименование>
				<Порядок>650</Порядок>
				<ПередВыгрузкой>Если Параметры.Контрагенты.Найти(Источник.Эквайрер) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.Эквайрер,,,,"Контрагенты",,,,, Ложь);
	Параметры.Контрагенты.Добавить(Источник.Эквайрер);
КонецЕсли;
Если Параметры.Контрагенты.Найти(Источник.Контрагент) = Неопределено Тогда
	ВыгрузитьПоПравилу(Источник.Контрагент,,,,"Контрагенты",,,,, Ложь);
	Параметры.Контрагенты.Добавить(Источник.Контрагент);
КонецЕсли;</ПередВыгрузкой>
				<ПослеЗагрузки>// Определение переменных, используемых в алгоритмах
МетаданныеДокумента = Объект.Метаданные();

// Общая процедура заполнения шапки
Выполнить(Алгоритмы.ЗаполнитьШапкуДокумента);

ПараметрВидДоговора             = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
ПараметрДата                    = Объект.Дата;
ПараметрДоговорВТабличнойЧасти  = Истина;
ПараметрИмяТабличнойЧасти       = "СуммыДолга";
ПараметрКонтрагентДебитор       = Объект.КонтрагентДебитор;
ПараметрКонтрагентКредитор      = Объект.КонтрагентКредитор;
ПараметрОрганизация             = Объект.Организация;

Для Каждого СтрокаРасшифровкиПлатежа Из Объект.СуммыДолга Цикл
	кэшОбъект = Объект;
	Объект    = СтрокаРасшифровкиПлатежа;
	
	Если СтрокаРасшифровкиПлатежа.ТипКонтрагента = Перечисления.СтатусыКонтрагентов.Покупатель Тогда
		ПараметрВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СПокупателем;
		ПараметрКонтрагент = ПараметрКонтрагентДебитор;
	Иначе
		ПараметрВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.Прочее;
		ПараметрКонтрагент = ПараметрКонтрагентКредитор;
	КонецЕсли;
	
	Выполнить(Алгоритмы.УстановитьДоговорПоКонтрагенту);
	Объект = кэшОбъект;
	
	                                                                        	
	//Объект.ЗаполнитьСчетаУчетаВСтрокеТабЧасти(СтрокаРасшифровкиПлатежа, Истина);
	
		Если Объект.ВидОперации = Перечисления.ВидыОперацийКорректировкаДолга.СписаниеЗадолженности Тогда
		
		СчетУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетУчетаПрочий(Объект.Организация, Перечисления.ВидыПрочихСчетовУчета.СчетДтСписаниеЗадолженностиКорректировкаДолга);
		Объект.СчетДт		= СчетУчета.СчетУчетаБУ;
		Объект.СубконтоДт1 	= СчетУчета.Субконто1;
		Объект.СубконтоДт2 	= СчетУчета.Субконто2;
		Объект.СубконтоДт3 	= СчетУчета.Субконто3;
		Если НЕ ЗначениеЗаполнено(Объект.СчетДт) Тогда
			Объект.СчетДт = ПланыСчетов.Хозрасчетный.СомнительныеИБезнадежныеДолги;
		КонецЕсли;
		
		СчетУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетУчетаПрочий(Объект.Организация, Перечисления.ВидыПрочихСчетовУчета.СчетКтСписаниеЗадолженностиКорректировкаДолга);
		Объект.СчетКт		= СчетУчета.СчетУчетаБУ;
		Объект.СубконтоКт1 	= СчетУчета.Субконто1;
		Объект.СубконтоКт2 	= СчетУчета.Субконто2;
		Объект.СубконтоКт3 	= СчетУчета.Субконто3;
		Если НЕ ЗначениеЗаполнено(Объект.СчетКт) Тогда
			Объект.СчетКт = ПланыСчетов.Хозрасчетный.ДоходОтСписанияКредиторскойЗадолженности;	
		КонецЕсли;
		
	ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийКорректировкаДолга.ПереносЗадолженности Тогда
		
		СчетаУчета = УправлениеВзаиморасчетами.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.КонтрагентКредитор, Объект.ДоговорКонтрагента);
		
		Если Объект.ТипКонтрагента = Перечисления.СтатусыКонтрагентов.Поставщик Тогда
			
			Объект.СчетДт = СчетаУчета.СчетАвансов;
			Объект.СчетКт = СчетаУчета.СчетРасчетов;
			
			Объект.СчетУчетаНДС		   		= СчетаУчета.СчетУчетаНДСПриобретений;
			Объект.СчетУчетаНДСПодтвержденный	= СчетаУчета.СчетУчетаНДСПриобретенийПодтвержденный;
			
		ИначеЕсли Объект.ТипКонтрагента = Перечисления.СтатусыКонтрагентов.Покупатель Тогда
			
			Объект.СчетДт = СчетаУчета.СчетРасчетовПокупателя;
			Объект.СчетКт = СчетаУчета.СчетАвансовПокупателя;
			
			Объект.СчетУчетаНДС		   		= СчетаУчета.СчетУчетаНДСПродаж;
			Объект.СчетУчетаНДСПодтвержденный	= СчетаУчета.СчетУчетаНДСПродажПодтвержденный;
			
		КонецЕсли;
		
	ИначеЕсли Объект.ВидОперации = Перечисления.ВидыОперацийКорректировкаДолга.ИзменениеЗадолженности Тогда	
		
		Объект.СчетДт = ПланыСчетов.Хозрасчетный.ПустаяСсылка();
		
	Иначе
		
		Объект.СчетДт = ПланыСчетов.Хозрасчетный.Вспомогательный;
		
	КонецЕсли;

	
	Если СтрокаРасшифровкиПлатежа.ТипКонтрагента = Перечисления.СтатусыКонтрагентов.Поставщик Тогда
		
		СтрокаРасшифровкиПлатежа.СчетУчетаРасчетов = ПланыСчетов.Хозрасчетный.ДенежныеСредстваВПутиВНациональнойВалюте;
		
	КонецЕсли;
	
	
КонецЦикла;</ПослеЗагрузки>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ДокументСсылка.ОплатаОтПокупателяПлатежнойКартой</Источник>
				<Приемник>ДокументСсылка.КорректировкаДолга</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Дата --&gt; Дата</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Дата" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Дата" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство Поиск="true">
						<Код>2</Код>
						<Наименование>Номер --&gt; Номер</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Номер" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Номер" Вид="Свойство" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Контрагент --&gt; КонтрагентДебитор</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Контрагент" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="КонтрагентДебитор" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Эквайрер --&gt; КонтрагентКредитор</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Эквайрер" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
						<Приемник Имя="КонтрагентКредитор" Вид="Реквизит" Тип="СправочникСсылка.Контрагенты"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>ХозяйственнаяОперация --&gt; ВидОперации</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="ХозяйственнаяОперация" Вид="Реквизит" Тип="ПеречислениеСсылка.ХозяйственныеОперации"/>
						<Приемник Имя="ВидОперации" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыОперацийКорректировкаДолга"/>
						<ПередВыгрузкой>Значение = "ПроведениеВзаимозачета";</ПередВыгрузкой>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>Комментарий --&gt; Комментарий</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
						<Приемник Имя="Комментарий" Вид="Реквизит" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>7</Код>
						<Наименование>Организация --&gt; Организация</Наименование>
						<Порядок>350</Порядок>
						<Источник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="Организация" Вид="Реквизит" Тип="СправочникСсылка.Организации"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>15</Код>
						<Наименование>Проведен --&gt; Проведен</Наименование>
						<Порядок>400</Порядок>
						<Источник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Проведен" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство Отключить="true">
						<Код>8</Код>
						<Наименование>Ответственный --&gt; Ответственный</Наименование>
						<Порядок>450</Порядок>
						<Источник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<Приемник Имя="Ответственный" Вид="Реквизит" Тип="СправочникСсылка.Пользователи"/>
						<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
					</Свойство>
					<Группа>
						<Код>9</Код>
						<Наименование>РасшифровкаПлатежа --&gt; СуммыДолга</Наименование>
						<Порядок>500</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="СуммыДолга" Вид="ТабличнаяЧасть"/>
						<Свойство>
							<Код>10</Код>
							<Наименование>ДокументРасчетовСКонтрагентом --&gt; Сделка</Наименование>
							<Порядок>50</Порядок>
							<Источник Имя="ДокументРасчетовСКонтрагентом" Вид="Реквизит"/>
							<Приемник Имя="Сделка" Вид="Реквизит"/>
						</Свойство>
						<Свойство>
							<Код>11</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>12</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>13</Код>
							<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>14</Код>
							<Наименование>--&gt; ВидЗадолженности</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыЗадолженности"/>
							<ПередВыгрузкой>Если Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеОплатыОтКлиента Тогда
	Значение = "Кредиторская";
ИначеЕсли Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВозвратОплатыКлиенту Тогда
	Значение = "Дебиторская";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>23</Код>
							<Наименование>--&gt; ТипКонтрагента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипКонтрагента" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыКонтрагентов"/>
							<ПередВыгрузкой>Значение = "Покупатель";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>24</Код>
							<Наименование>--&gt; РасчетыВозврат</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасчетыВозврат" Вид="Реквизит" Тип="ПеречислениеСсылка.РасчетыВозврат"/>
							<ПередВыгрузкой>Если Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеОплатыОтКлиента Тогда
	Значение = "Расчеты";
ИначеЕсли Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВозвратОплатыКлиенту Тогда
	Значение = "Возврат";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
					<Группа>
						<Код>16</Код>
						<Наименование>РасшифровкаПлатежа --&gt; СуммыДолга</Наименование>
						<Порядок>550</Порядок>
						<Источник Имя="РасшифровкаПлатежа" Вид="ТабличнаяЧасть"/>
						<Приемник Имя="СуммыДолга" Вид="ТабличнаяЧасть"/>
						<ПередОбработкойВыгрузки>НеОчищать = Истина;</ПередОбработкойВыгрузки>
						<Свойство>
							<Код>18</Код>
							<Наименование>Сумма --&gt; Сумма</Наименование>
							<Порядок>100</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>19</Код>
							<Наименование>--&gt; КурсВзаиморасчетов</Наименование>
							<Порядок>150</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="КурсВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
							<ПередВыгрузкой>Значение = 1;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>20</Код>
							<Наименование>Сумма --&gt; СуммаВзаиморасчетов</Наименование>
							<Порядок>200</Порядок>
							<Источник Имя="Сумма" Вид="Реквизит" Тип="Число"/>
							<Приемник Имя="СуммаВзаиморасчетов" Вид="Реквизит" Тип="Число"/>
						</Свойство>
						<Свойство>
							<Код>21</Код>
							<Наименование>--&gt; ВидЗадолженности</Наименование>
							<Порядок>250</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ВидЗадолженности" Вид="Реквизит" Тип="ПеречислениеСсылка.ВидыЗадолженности"/>
							<ПередВыгрузкой>Если Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеОплатыОтКлиента Тогда
	Значение = "Кредиторская";
ИначеЕсли Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВозвратОплатыКлиенту Тогда
	Значение = "Дебиторская";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>22</Код>
							<Наименование>--&gt; ТипКонтрагента</Наименование>
							<Порядок>300</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="ТипКонтрагента" Вид="Реквизит" Тип="ПеречислениеСсылка.СтатусыКонтрагентов"/>
							<ПередВыгрузкой>Значение = "Поставщик";</ПередВыгрузкой>
						</Свойство>
						<Свойство>
							<Код>25</Код>
							<Наименование>--&gt; РасчетыВозврат</Наименование>
							<Порядок>350</Порядок>
							<Источник Имя="" Вид=""/>
							<Приемник Имя="РасчетыВозврат" Вид="Реквизит" Тип="ПеречислениеСсылка.РасчетыВозврат"/>
							<ПередВыгрузкой>Если Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ПоступлениеОплатыОтКлиента Тогда
	Значение = "Расчеты";
ИначеЕсли Источник.ХозяйственнаяОперация = Перечисления.ХозяйственныеОперации.ВозвратОплатыКлиенту Тогда
	Значение = "Возврат";
КонецЕсли;</ПередВыгрузкой>
						</Свойство>
					</Группа>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Регистры сведений</Код>
			<Наименование>Регистры сведений</Наименование>
			<Порядок>200</Порядок>
			<Правило>
				<Код>ФИОФизЛиц</Код>
				<Наименование>Регистр сведений: Фамилия, имя, отчество физического лица</Наименование>
				<Порядок>200</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ФИОФизЛиц</Источник>
				<Приемник>РегистрСведенийЗапись.ФИОФизическихЛиц</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Имя --&gt; Имя</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Имя" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>Отчество --&gt; Отчество</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Отчество" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>Фамилия --&gt; Фамилия</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
						<Приемник Имя="Фамилия" Вид="Ресурс" Тип="Строка"/>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ФизЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ФизЛицо" Вид="Измерение"/>
						<Приемник Имя="ФизическоеЛицо" Вид="Измерение"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
			<Правило>
				<Код>РегистрОтветственныеЛицаОрганизаций</Код>
				<Наименование>Регистр сведений: Ответственные лица организаций</Наименование>
				<Порядок>400</Порядок>
				<НеЗапоминатьВыгруженные>true</НеЗапоминатьВыгруженные>
				<Источник>РегистрСведенийЗапись.ОтветственныеЛицаОрганизаций</Источник>
				<Приемник>РегистрСведенийЗапись.ОтветственныеЛицаОрганизаций</Приемник>
				<Свойства>
					<Свойство>
						<Код>1</Код>
						<Наименование>Активность --&gt; Активность</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Активность" Вид="Свойство" Тип="Булево"/>
						<Приемник Имя="Активность" Вид="Свойство" Тип="Булево"/>
					</Свойство>
					<Свойство>
						<Код>2</Код>
						<Наименование>Должность --&gt; Должность</Наименование>
						<Порядок>100</Порядок>
						<Источник Имя="Должность" Вид="Ресурс" Тип="СправочникСсылка.ДолжностиОрганизаций"/>
						<Приемник Имя="Должность" Вид="Ресурс" Тип="СправочникСсылка.Должности"/>
						<КодПравилаКонвертации>ДолжностиОрганизаций                              </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>3</Код>
						<Наименование>ОтветственноеЛицо --&gt; ОтветственноеЛицо</Наименование>
						<Порядок>150</Порядок>
						<Источник Имя="ОтветственноеЛицо" Вид="Измерение" Тип="ПеречислениеСсылка.ОтветственныеЛицаОрганизаций"/>
						<Приемник Имя="ОтветственноеЛицо" Вид="Измерение" Тип="ПеречислениеСсылка.ОтветственныеЛицаОрганизаций"/>
						<КодПравилаКонвертации>ОтветственныеЛицаОрганизаций                      </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>4</Код>
						<Наименование>Период --&gt; Период</Наименование>
						<Порядок>200</Порядок>
						<Источник Имя="Период" Вид="Свойство" Тип="Дата"/>
						<Приемник Имя="Период" Вид="Свойство" Тип="Дата"/>
					</Свойство>
					<Свойство>
						<Код>5</Код>
						<Наименование>СтруктурнаяЕдиница --&gt; СтруктурнаяЕдиница</Наименование>
						<Порядок>250</Порядок>
						<Источник Имя="СтруктурнаяЕдиница" Вид="Измерение" Тип="СправочникСсылка.Организации"/>
						<Приемник Имя="СтруктурнаяЕдиница" Вид="Измерение"/>
						<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
					</Свойство>
					<Свойство>
						<Код>6</Код>
						<Наименование>ФизическоеЛицо --&gt; ФизическоеЛицо</Наименование>
						<Порядок>300</Порядок>
						<Источник Имя="ФизическоеЛицо" Вид="Ресурс" Тип="СправочникСсылка.ФизическиеЛица"/>
						<Приемник Имя="ФизическоеЛицо" Вид="Ресурс" Тип="СправочникСсылка.ФизическиеЛица"/>
						<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
		<Группа>
			<Код>Планы видов характеристик</Код>
			<Наименование>Планы видов характеристик</Наименование>
			<Порядок>250</Порядок>
			<Правило>
				<Код>ДополнительныеРеквизитыИСведения</Код>
				<Наименование>План видов характеристик: Дополнительные реквизиты и сведения</Наименование>
				<Порядок>50</Порядок>
				<СинхронизироватьПоИдентификатору>true</СинхронизироватьПоИдентификатору>
				<Источник>ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения</Источник>
				<Приемник>ПланВидовХарактеристикСсылка.ДополнительныеРеквизитыИСведения</Приемник>
				<Свойства>
					<Свойство Поиск="true">
						<Код>1</Код>
						<Наименование>Наименование --&gt; Наименование</Наименование>
						<Порядок>50</Порядок>
						<Источник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
						<Приемник Имя="Наименование" Вид="Свойство" Тип="Строка"/>
					</Свойство>
				</Свойства>
				<Значения/>
			</Правило>
		</Группа>
	</ПравилаКонвертацииОбъектов>
	<ПравилаВыгрузкиДанных>
		<Группа Отключить="false">
			<Код>Справочники</Код>
			<Наименование>Справочники</Наименование>
			<Порядок>50</Порядок>
			<Правило Отключить="false">
				<Код>ФизическиеЛица</Код>
				<Наименование>ФизическиеЛица</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ФизическиеЛица                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ФизическиеЛица</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Организации</Код>
				<Наименование>Организации</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>Организации                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Организации</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Контрагенты</Код>
				<Наименование>Контрагенты</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>Контрагенты                                       </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Контрагенты</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>БазовыеЕдиницыИзмерения</Код>
				<Наименование>КлассификаторЕдиницИзмерения</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>БазовыеЕдиницыИзмерения                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.БазовыеЕдиницыИзмерения</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>НоменклатурныеГруппы</Код>
				<Наименование>НоменклатурныеГруппы</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ТоварныеГруппы                                    </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ТоварныеГруппы</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыКонтактнойИнформации</Код>
				<Наименование>ВидыКонтактнойИнформации</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>ВидыКонтактнойИнформации                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыКонтактнойИнформации</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ДолжностиОрганизаций</Код>
				<Наименование>ДолжностиОрганизаций</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>ДолжностиОрганизаций                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ДолжностиОрганизаций</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ГруппыПользователей</Код>
				<Наименование>ГруппыПользователей</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>ГруппыПользователей                               </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ГруппыПользователей</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СтраныМира</Код>
				<Наименование>КлассификаторСтранМира</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>СтраныМира                                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтраныМира</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Склады</Код>
				<Наименование>Склады</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>Склады                                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Склады</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Магазины</Код>
				<Наименование>Магазины</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>Магазины                                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Магазины</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>Номенклатура</Код>
				<Наименование>Номенклатура</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>Номенклатура                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Номенклатура</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>//Если НЕ Объект.ЭтоГруппа Тогда // И Объект.Комплект Тогда
//	Отказ = Истина;
//КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>Пользователи</Код>
				<Наименование>Пользователи</Наименование>
				<Порядок>650</Порядок>
				<КодПравилаКонвертации>Пользователи                                      </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.Пользователи</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СтатьиДвиженияДенежныхСредств</Код>
				<Наименование>СтатьиДвиженияДенежныхСредств</Наименование>
				<Порядок>700</Порядок>
				<КодПравилаКонвертации>СтатьиДвиженияДенежныхСредств                     </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.СтатьиДвиженияДенежныхСредств</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПравилаЦенообразования</Код>
				<Наименование>ПравилаЦенообразования</Наименование>
				<Порядок>750</Порядок>
				<КодПравилаКонвертации>ПравилаЦенообразования                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ПравилаЦенообразования</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВидыОплатЧекаККМ</Код>
				<Наименование>ВидыОплатЧекаККМ</Наименование>
				<Порядок>800</Порядок>
				<КодПравилаКонвертации>ВидыОплатЧекаККМ                                  </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.ВидыОплатЧекаККМ</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>КлассификаторУКТВЭД</Код>
				<Наименование>Класифікатор кодів для ПН</Наименование>
				<Порядок>850</Порядок>
				<КодПравилаКонвертации>КлассификаторУКТВЭД                               </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>СправочникСсылка.КлассификаторУКТВЭД</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>Документы</Код>
			<Наименование>Документы</Наименование>
			<Порядок>100</Порядок>
			<Правило Отключить="false">
				<Код>ПоступлениеТоваров</Код>
				<Наименование>ПоступлениеТоваров</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ПоступлениеТоваровУслуг                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПоступлениеТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>РеализацияТоваров</Код>
				<Наименование>РеализацияТоваров</Наименование>
				<Порядок>100</Порядок>
				<КодПравилаКонвертации>РеализацияТоваровУслуг                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РеализацияТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВозвратТоваровОтПокупателя</Код>
				<Наименование>ВозвратТоваровОтПокупателя</Наименование>
				<Порядок>150</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровОтПокупателя                        </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ВозвратТоваровОтПокупателя</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ВозвратТоваровПоставщику</Код>
				<Наименование>ВозвратТоваровПоставщику</Наименование>
				<Порядок>200</Порядок>
				<КодПравилаКонвертации>ВозвратТоваровПоставщику                          </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ВозвратТоваровПоставщику</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПриходныйКассовыйОрдер</Код>
				<Наименование>ПриходныйКассовыйОрдер</Наименование>
				<Порядок>250</Порядок>
				<КодПравилаКонвертации>ПриходныйКассовыйОрдер                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПриходныйКассовыйОрдер</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>РасходныйКассовыйОрдер</Код>
				<Наименование>РасходныйКассовыйОрдер</Наименование>
				<Порядок>300</Порядок>
				<КодПравилаКонвертации>РасходныйКассовыйОрдер                            </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.РасходныйКассовыйОрдер</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПересчетТоваров</Код>
				<Наименование>ПересчетТоваров</Наименование>
				<Порядок>350</Порядок>
				<КодПравилаКонвертации>ПересчетТоваров                                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПересчетТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>СписаниеТоваров</Код>
				<Наименование>СписаниеТоваров</Наименование>
				<Порядок>400</Порядок>
				<КодПравилаКонвертации>СписаниеТоваров                                   </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.СписаниеТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ОприходованиеТоваров</Код>
				<Наименование>ОприходованиеТоваров</Наименование>
				<Порядок>450</Порядок>
				<КодПравилаКонвертации>ОприходованиеТоваров                              </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОприходованиеТоваров</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ОтчетОРозничныхПродажах</Код>
				<Наименование>ОтчетОРозничныхПродажах</Наименование>
				<Порядок>500</Порядок>
				<КодПравилаКонвертации>ОтчетОРозничныхПродажах                           </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОтчетОРозничныхПродажах</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ПеремещениеТоваров</Код>
				<Наименование>ПеремещениеТоваров</Наименование>
				<Порядок>550</Порядок>
				<КодПравилаКонвертации>ПеремещениеТоваров                                </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ПеремещениеТоваров</ОбъектВыборки>
				<ПередВыгрузкойОбъекта>//Если Объект.СкладОтправитель.ТипСклада = Перечисления.ТипыСкладов.СкладЦентральногоОфиса
// И   Объект.СкладПолучатель.ТипСклада = Перечисления.ТипыСкладов.СкладЦентральногоОфиса Тогда
//	Отказ = Истина;
//КонецЕсли;</ПередВыгрузкойОбъекта>
			</Правило>
			<Правило Отключить="false">
				<Код>ОплатаОтПокупателяПлатежнойКартой</Код>
				<Наименование>ОплатаОтПокупателяПлатежнойКартой</Наименование>
				<Порядок>600</Порядок>
				<КодПравилаКонвертации>ОплатаОтПокупателяПлатежнойКартой                 </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>ДокументСсылка.ОплатаОтПокупателяПлатежнойКартой</ОбъектВыборки>
			</Правило>
		</Группа>
		<Группа Отключить="false">
			<Код>РегистрыСведений</Код>
			<Наименование>РегистрыСведений</Наименование>
			<Порядок>150</Порядок>
			<Правило Отключить="false">
				<Код>ОтветственныеЛицаОрганизаций</Код>
				<Наименование>ОтветственныеЛицаОрганизаций</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>РегистрОтветственныеЛицаОрганизаций               </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ОтветственныеЛицаОрганизаций</ОбъектВыборки>
			</Правило>
			<Правило Отключить="false">
				<Код>ФИОФизЛиц</Код>
				<Наименование>ФИОФизЛиц</Наименование>
				<Порядок>50</Порядок>
				<КодПравилаКонвертации>ФИОФизЛиц                                         </КодПравилаКонвертации>
				<СпособОтбораДанных>СтандартнаяВыборка</СпособОтбораДанных>
				<ОбъектВыборки>РегистрСведенийЗапись.ФИОФизЛиц</ОбъектВыборки>
			</Правило>
		</Группа>
	</ПравилаВыгрузкиДанных>
	<ПравилаОчисткиДанных/>
	<Алгоритмы>
		<Алгоритм Имя="ЗаполнитьНомерГТД" ИспользуетсяПриЗагрузке="true">
			<Текст>//ПараметрИмяТабличнойЧасти : имя табличной части объекта

Для каждого СтрокаТЧ Из Объект[ПараметрИмяТабличнойЧасти] цикл
	Если ЗначениеЗаполнено(СтрокаТЧ.Номенклатура.НомерГТД) тогда
		СтрокаТЧ.НомерГТД = СтрокаТЧ.Номенклатура.НомерГТД;
	КонецЕсли;
КонецЦикла;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ЗаполнитьСчетаУчетаВТабЧасти" ИспользуетсяПриЗагрузке="true">
			<Текст>ДанныеОбъекта = Новый Структура(
		"Дата,Организация,Склад,ТипЦен,ВалютаДокумента,СуммаВключаетНДС,ТипСкладаНТТ,УчетПоПродажнойСтоимости");
		
ЗаполнитьЗначенияСвойств(ДанныеОбъекта, Объект);

МетаданныеДокумента = Объект.Ссылка.Метаданные();

Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("Склад", МетаданныеДокумента) Тогда
	ДанныеОбъекта.ТипСкладаНТТ = НЕ Объект.Склад.Пустая() И Объект.Склад.ТипСклада = Перечисления.ТипыСкладов.НеавтоматизированнаяТорговаяТочка;
Иначе 
	ДанныеОбъекта.ТипСкладаНТТ = Ложь;
КонецЕсли;

СпособОценкиТоваровВРознице    = УчетнаяПолитика.СпособОценкиТоваровВРознице(Объект.Организация, Объект.Дата);
ДанныеОбъекта.УчетПоПродажнойСтоимости = (СпособОценкиТоваровВРознице = 
		Перечисления.СпособыОценкиТоваровВРознице.ПоПродажнойСтоимости);
		
Если ДанныеОбъекта.ТипСкладаНТТ И ДанныеОбъекта.УчетПоПродажнойСтоимости Тогда
	Комиссия = Истина;
Иначе
	Комиссия = Ложь;
КонецЕсли;
				
СоответствиеСведенийОНоменклатуре = БухгалтерскийУчетПереопределяемый.ПолучитьСведенияОСпискеНоменклатуры(
		ОбщегоНазначения.ВыгрузитьКолонку(Объект[ТабЧасть], "Номенклатура", Истина), ДанныеОбъекта);

Для каждого СтрокаТабличнойЧасти Из Объект[ТабЧасть] Цикл
	
	СведенияОНоменклатуре = СоответствиеСведенийОНоменклатуре.Получить(СтрокаТабличнойЧасти.Номенклатура);
	Если Не (СведенияОНоменклатуре = Неопределено) И СведенияОНоменклатуре.Свойство("СчетаУчета") Тогда
		// СведенияОНоменклатуре - структура сведений номенклатуры
		СчетаУчета = СведенияОНоменклатуре.СчетаУчета;
	Иначе
		Продолжить;
	КонецЕсли;


	Если ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("СчетУчетаБУ", МетаданныеДокумента, ТабЧасть) Тогда
		СтрокаТабличнойЧасти.СчетУчетаБУ			= ?(НЕ Комиссия, СчетаУчета.СчетУчетаБУ, СчетаУчета.СчетУчетаДоп);
	КонецЕсли;
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("СхемаРеализации", МетаданныеДокумента, ТабЧасть) Тогда
		СтрокаТабличнойЧасти.СхемаРеализации		= СчетаУчета.СхемаРеализации;
	КонецЕсли;
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("НалоговоеНазначение", МетаданныеДокумента, ТабЧасть) Тогда
		СтрокаТабличнойЧасти.НалоговоеНазначение		= СчетаУчета.НалоговоеНазначение;
	КонецЕсли;
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("НалоговоеНазначениеДоходовИЗатрат", МетаданныеДокумента, ТабЧасть) Тогда
		СтрокаТабличнойЧасти.НалоговоеНазначениеДоходовИЗатрат		= СчетаУчета.НалоговоеНазначениеДоходовИЗатрат;
	КонецЕсли;
	
КонецЦикла;</Текст>
			<Параметры>Объект, ТабЧасть</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ЗаполнитьСчетаУчетаРасчетов" ИспользуетсяПриЗагрузке="true">
			<Текст>

СчетаУчета = БухгалтерскийУчетПереопределяемый.ПолучитьСчетаРасчетовСКонтрагентом(Объект.Организация, Объект.Контрагент, Объект.ДоговорКонтрагента);

МетаданныеДокумента = Объект.Ссылка.Метаданные();

Если Объект.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоТаре", МетаданныеДокумента) Тогда
		Объект.СчетУчетаРасчетовПоТаре = СчетаУчета.СчетУчетаТары;
	КонецЕсли;
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоТареПоАвансам", МетаданныеДокумента) Тогда
		Объект.СчетУчетаРасчетовПоТареПоАвансам = СчетаУчета.СчетАвансовПоТаре;
	КонецЕсли;

Иначе
	Если Объект.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.Бартерный Тогда
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовСКонтрагентом", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПриБартере;
		КонецЕсли;
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоАвансам", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансовПриБартере;
		КонецЕсли;
	
	ИначеЕсли Объект.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомитентом Тогда
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовСКонтрагентом", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
		КонецЕсли;
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоАвансамВыданным", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовПоАвансамВыданным = СчетаУчета.СчетАвансов;
		КонецЕсли;
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоВознаграждению", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовПоВознаграждению = СчетаУчета.СчетРасчетовПокупателя;
		КонецЕсли;
	
		Если ТипЗнч(Объект.Ссылка) = Тип("ДокументСсылка.ОтчетКомитентуОПродажах")Тогда
			Если Объект.УдержатьВознаграждение Тогда
				// Если вознаграждение удерживается, то счет расчетов с контрагентом 
				// выступает в качестве счета авансов для расчетов по вознаграждению
				Объект.СчетУчетаРасчетовПоАвансамПолученным = Объект.СчетУчетаРасчетовСКонтрагентом;
			Иначе
				Объект.СчетУчетаРасчетовПоАвансамПолученным = СчетаУчета.СчетАвансовПокупателя;
			КонецЕсли;	
		КонецЕсли;
		
		Объект.СчетУчетаНДСПродаж 					  = СчетаУчета.СчетУчетаНДСПродаж;
		Объект.СчетУчетаНДСПродажПодтвержденный  	  = СчетаУчета.СчетУчетаНДСПродажПодтвержденный;
		Объект.СчетУчетаНДСПриобретений 		      = СчетаУчета.СчетУчетаНДСПриобретений;
		Объект.СчетУчетаНДСПриобретенийПодтвержденный = СчетаУчета.СчетУчетаНДСПриобретенийПодтвержденный;
		
	ИначеЕсли Объект.ДоговорКонтрагента.ВидДоговора = Перечисления.ВидыДоговоровКонтрагентов.СКомиссионером Тогда
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовСКонтрагентом", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
		КонецЕсли;
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоАвансамПолученным", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовПоАвансамПолученным = СчетаУчета.СчетАвансовПокупателя;
		КонецЕсли;
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовЗаПосредническиеУслуги", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовЗаПосредническиеУслуги = СчетаУчета.СчетРасчетов;
		КонецЕсли;
		
		Если ТипЗнч(Объект.Ссылка) = Тип("ДокументСсылка.ОтчетКомиссионераОПродажах")Тогда
			Если Объект.УдержатьВознаграждение Тогда
				// Если вознаграждение удерживается, то счет расчетов с контрагентом 
				// выступает в качестве счета авансов для расчетов по вознаграждению
				Объект.СчетУчетаРасчетовПоАвансамВыданным = Объект.СчетУчетаРасчетовСКонтрагентом;
			Иначе
				Объект.СчетУчетаРасчетовПоАвансамВыданным = СчетаУчета.СчетАвансов;
			КонецЕсли;	
		КонецЕсли;
	
	Иначе
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовСКонтрагентом", МетаданныеДокумента) Тогда
			//
			Если ТипЗнч(Объект.Ссылка) = Тип("ДокументСсылка.РеализацияТоваровУслуг")Тогда
				Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетовПокупателя;
			Иначе
				Объект.СчетУчетаРасчетовСКонтрагентом = СчетаУчета.СчетРасчетов;
			КонецЕсли;
			//
		КонецЕсли;
		
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоАвансам", МетаданныеДокумента) Тогда
			Объект.СчетУчетаРасчетовПоАвансам = СчетаУчета.СчетАвансов;
		КонецЕсли;
	
	КонецЕсли;	
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоТаре", МетаданныеДокумента) Тогда
		Объект.СчетУчетаРасчетовПоТаре = СчетаУчета.СчетУчетаТары;
	КонецЕсли;
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаРасчетовПоТареПоАвансам", МетаданныеДокумента) Тогда
		Объект.СчетУчетаРасчетовПоТареПоАвансам = СчетаУчета.СчетАвансовПоТаре;
	КонецЕсли;
	
КонецЕсли;

Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаНДС", МетаданныеДокумента) Тогда
	Объект.СчетУчетаНДС = СчетаУчета.СчетУчетаНДСПриобретений;
КонецЕсли;

Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаНДСПодтвержденный", МетаданныеДокумента) Тогда
	Объект.СчетУчетаНДСПодтвержденный = СчетаУчета.СчетУчетаНДСПриобретенийПодтвержденный;
КонецЕсли;

Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаНДСПродаж", МетаданныеДокумента) Тогда
	Объект.СчетУчетаНДСПродаж = СчетаУчета.СчетУчетаНДСПродаж;
КонецЕсли;

Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаНДСПродажПодтвержденный", МетаданныеДокумента) Тогда
	Объект.СчетУчетаНДСПродажПодтвержденный = СчетаУчета.СчетУчетаНДСПродажПодтвержденный;
КонецЕсли;

Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаНДСПриобретений", МетаданныеДокумента) Тогда
	Объект.СчетУчетаНДСПриобретений = СчетаУчета.СчетУчетаНДСПриобретений;
КонецЕсли;

Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетУчетаНДСПриобретенийПодтвержденный", МетаданныеДокумента) Тогда
	Объект.СчетУчетаНДСПриобретенийПодтвержденный = СчетаУчета.СчетУчетаНДСПриобретенийПодтвержденный;
КонецЕсли;</Текст>
			<Параметры>Объект</Параметры>
		</Алгоритм>
		<Алгоритм Имя="ЗаполнитьШапкуДокумента" ИспользуетсяПриЗагрузке="true">
			<Текст>		
	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ОтражатьВБухгалтерскомУчете", МетаданныеДокумента) Тогда
		//По умолчанию все документы требуют отражения в бухгалтерском учете
		Объект.ОтражатьВБухгалтерскомУчете = Истина;
	КонецЕсли;

	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("Организация", МетаданныеДокумента) 
	  И (НЕ ЗначениеЗаполнено(Объект.Организация)) Тогда
		Объект.Организация = Параметры.ОсновнаяОрганизация;
	КонецЕсли;

	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ПодразделениеОрганизации", МетаданныеДокумента)
	   И (НЕ ЗначениеЗаполнено(Объект.ПодразделениеОрганизации)) Тогда
	   //Понять откуда тащить подразделение!!!
	   //Объект.ПодразделениеОрганизации = УправлениеПользователями.ПолучитьЗначениеПоУмолчанию(ТекПользователь, "ОсновноеПодразделениеОрганизации");
	КонецЕсли;
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СтруктурнаяЕдиница", МетаданныеДокумента)
	   И НЕ ЗначениеЗаполнено(Объект.СтруктурнаяЕдиница) 
	   И ОбщегоНазначенияБП.ЕстьРеквизитДокумента("Организация", МетаданныеДокумента) Тогда
		Объект.СтруктурнаяЕдиница = Объект.Организация.ОсновнойБанковскийСчет;
	КонецЕсли;

	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ВидОперации", МетаданныеДокумента)
	   И (НЕ ЗначениеЗаполнено(Объект.ВидОперации)) Тогда
		Объект.ВидОперации = Перечисления[Объект.ВидОперации.Метаданные().Имя][0];
	КонецЕсли;

	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("БанковскийСчет", МетаданныеДокумента)
	   И НЕ ЗначениеЗаполнено(Объект.БанковскийСчет) Тогда
		Объект.БанковскийСчет = Объект.Организация.ОсновнойБанковскийСчет;
		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ВалютаДокумента", МетаданныеДокумента) Тогда
			//Объект.ВалютаДокумента = Объект.Организация.ОсновнойБанковскийСчет.ВалютаДенежныхСредств;
			Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;
		КонецЕсли;
	КонецЕсли;
	
	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("СчетОрганизации", МетаданныеДокумента)
	   И НЕ ЗначениеЗаполнено(Объект.СчетОрганизации) Тогда
		Объект.СчетОрганизации = Объект.Организация.ОсновнойБанковскийСчет;
		//Объект.ВалютаДокумента = Объект.Организация.ОсновнойБанковскийСчет.ВалютаДенежныхСредств;
		Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;
	КонецЕсли;

	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ВалютаДокумента", МетаданныеДокумента)
	   И (НЕ ЗначениеЗаполнено(Объект.ВалютаДокумента)) Тогда
		Объект.ВалютаДокумента = Параметры.ВалютаРегламентированногоУчета;
	КонецЕсли;

	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("КурсДокумента", МетаданныеДокумента)
	   И (НЕ ЗначениеЗаполнено(Объект.КурсДокумента)) Тогда
		//СтруктураКурсаДокумента      = МодульВалютногоУчета.ПолучитьКурсВалюты(Объект.ВалютаДокумента, Объект.Дата);
		//Объект.КурсДокумента = СтруктураКурсаДокумента.Курс;
		Объект.КурсДокумента = 1;

		Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("КратностьДокумента", МетаданныеДокумента) Тогда
			//Объект.КратностьДокумента = СтруктураКурсаДокумента.Кратность;
			Объект.КратностьДокумента = 1;
		КонецЕсли;
		
	КонецЕсли;

	// Если тип цен оказался не заполненным,
	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ТипЦен", МетаданныеДокумента)
	   И (НЕ ЗначениеЗаполнено(Объект.ТипЦен)) Тогда
	   
	   // то тип цен в документ заполняется из склада.
	   Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("Склад", МетаданныеДокумента) Тогда
		   Объект.ТипЦен = Объект.Склад.ТипЦенРозничнойТорговли;
	   КонецЕсли;
	   
	КонецЕсли;

	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ЗанимаемыхСтавок", МетаданныеДокумента)
	   И (НЕ ЗначениеЗаполнено(Объект.ЗанимаемыхСтавок)) Тогда
		Объект.ЗанимаемыхСтавок = 1;
	КонецЕсли;

	Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ДатаС", МетаданныеДокумента)
	   И (НЕ ЗначениеЗаполнено(Объект.ДатаС)) Тогда
		Объект.ДатаС = Объект.Дата;
	КонецЕсли;
	

// ЗаполнитьШапкуДокумента()</Текст>
		</Алгоритм>
		<Алгоритм Имя="ОпределитьСтавкуНДС" ИспользуетсяПриЗагрузке="true">
			<Текст>//Если ЗначениеЗаполнено(УчетнаяПолитика) И УчетнаяПолитика.Количество() &gt; 0 Тогда
//	Если УчетнаяПолитика.СистемаНалогообложения = Перечисления.СистемыНалогообложения.Упрощенная Тогда
//		СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//	Иначе
//		Если УчетнаяПолитика.СложныйУчетНДС Тогда
//			СтавкаНДС = Перечисления.СтавкиНДС.БезНДС;
//		КонецЕсли;
//		СтавкаНДС = Перечисления.СтавкиНДС.НДС18;
//	КонецЕсли;
//КонецЕсли;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ПолучитьЗначениеПервойСтроки" ИспользуетсяПриЗагрузке="false">
			<Текст>// Параметры:
//   ПараметрИмяТабличнойЧасти = "Товары"
//   ПараметрИмяКолонкиТабличнойЧасти = "ДокументПродажи"
//   ПараметрОбъект = Источник
//   ПараметрЗначение = Неопределено - возвращаемое значение

Таблица = ПараметрОбъект[ПараметрИмяТабличнойЧасти].Выгрузить();
Таблица.Свернуть(ПараметрИмяКолонкиТабличнойЧасти);

Если Таблица.Количество() = 1 Тогда

	ПерваяСтрокаТаблицы = Таблица[0];
	ПараметрЗначение    = ПерваяСтрокаТаблицы[ПараметрИмяКолонкиТабличнойЧасти];
	
КонецЕсли;</Текст>
		</Алгоритм>
		<Алгоритм Имя="ПолучитьПодразделениеОрганизацииПоУмолчанию" ИспользуетсяПриЗагрузке="true">
			<Текст>ТекПользователь = Пользователи.ТекущийПользователь();

Если ЗначениеЗаполнено(Организация) Тогда
	ПодразделениеОрганизации = ОбщегоНазначенияБПВызовСервера.ПолучитьЗначениеПоУмолчанию("ОсновноеПодразделениеОрганизации",ТекПользователь);
	Если ЗначениеЗаполнено(ПодразделениеОрганизации) Тогда
		
		Запрос = Новый Запрос();
		Запрос.Текст = "ВЫБРАТЬ РАЗРЕШЕННЫЕ
		|	ПодразделенияОрганизаций.Владелец КАК ОрганизацияВладелец
		|ИЗ
		|	Справочник.ПодразделенияОрганизаций КАК ПодразделенияОрганизаций
		|ГДЕ
		|	ПодразделенияОрганизаций.Ссылка = &amp;Ссылка
		|	И ПодразделенияОрганизаций.Владелец = &amp;Владелец";
		Запрос.УстановитьПараметр("Ссылка", ПодразделениеОрганизации);
		Запрос.УстановитьПараметр("Владелец", Организация);
		Если Запрос.Выполнить().Пустой() Тогда
			ПодразделениеОрганизации = Неопределено;
		КонецЕсли;
	КонецЕсли;
КонецЕсли;</Текст>
			<Параметры>Организация</Параметры>
		</Алгоритм>
		<Алгоритм Имя="СформироватьТаблицуВозврТоваровСКомплектующими" ИспользуетсяПриЗагрузке="false">
			<Текст>// Должна вызываться перед обработкой табличной части "Товары" тех документов,
// где используются наборы
МетаданныеОбъекта = Источник.Метаданные();
ЕстьСуммаНДС = ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("СуммаНДС", МетаданныеОбъекта, "ВозвращенныеТовары");
ЕстьКоличество = ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("Количество", МетаданныеОбъекта, "ВозвращенныеТовары");
Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
|	*
|ПОМЕСТИТЬ ТаблицаПоТоварам
|ИЗ
|	&amp;ТаблицаПоТоварам КАК ТаблицаПоТоварам
|;
|
|////////////////////////////////////////////////////////////////////////////////
|// Добавляет признак комплекта в таблицу товаров
|ВЫБРАТЬ
|	ТаблицаПоТоварам.Номенклатура.Комплект КАК Комплект,
|	*,";
Если ЕстьСуммаНДС Тогда
	Запрос.Текст = Запрос.Текст + "СуммаНДС КАК НДС,";
Иначе
	Запрос.Текст = Запрос.Текст + "0 КАК НДС,";
КонецЕсли;
Если ЕстьКоличество Тогда
	Запрос.Текст = Запрос.Текст + "Количество КАК КоличествоТЧ";
Иначе
	Запрос.Текст = Запрос.Текст + "0 КАК КоличествоТЧ";
КонецЕсли;
Запрос.Текст = Запрос.Текст + "
|ИЗ
|	ТаблицаПоТоварам КАК ТаблицаПоТоварам
|;
|
|////////////////////////////////////////////////////////////////////////////////
|// Таблица товаров без комплектов
|ВЫБРАТЬ
|	*
|ИЗ
|	ТаблицаПоТоварам КАК ТаблицаПоТоварам
|	ГДЕ ТаблицаПоТоварам.Номенклатура.Комплект = Ложь";
Запрос.УстановитьПараметр("ТаблицаПоТоварам", Источник.ВозвращенныеТовары.Выгрузить());

РезультатЗапроса              = Запрос.ВыполнитьПакет();
ТаблицаТоваров                = РезультатЗапроса[1].Выгрузить();
ТаблицаПоТоварамБезКомплектов = РезультатЗапроса[2].Выгрузить();
Источник.ПодготовитьТаблицуТоваров(ТаблицаТоваров, Новый Структура());
СтруктураШапкиДокумента = Новый Структура;
СтруктураШапкиДокумента.Вставить("Дата",Источник.Дата);
Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("Склад",МетаданныеОбъекта) тогда
	СтруктураШапкиДокумента.Вставить("Склад",Источник.Склад);
КонецЕсли;

ТаблицаПоКомплектам = УправлениеЗапасами.СформироватьТаблицуКомплектующих(ТаблицаТоваров, Источник,СтруктураШапкиДокумента);

//Наша добавка
Для каждого Строка Из ТаблицаПоКомплектам Цикл
	
	Строка.Количество = Строка.Количество * Строка.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент / Строка.ЕдиницаИзмерения.Коэффициент;
	
КонецЦикла;

// Объединяет таблицу товаров и таблицу комплектующих
ТаблицаТоваров = Источник.ВозвращенныеТовары.ВыгрузитьКолонки();
ТаблицаТоваров.Колонки.Добавить("ПересчитыватьНДС", Новый ОписаниеТипов("Булево"));
ОбщегоНазначенияБПВызовСервера.ЗагрузитьВТаблицуЗначений(ТаблицаПоТоварамБезКомплектов, ТаблицаТоваров);
ОбщегоНазначенияБПВызовСервера.ЗагрузитьВТаблицуЗначений(ТаблицаПоКомплектам,           ТаблицаТоваров);</Текст>
		</Алгоритм>
		<Алгоритм Имя="СформироватьТаблицуТоваровСКомплектующими" ИспользуетсяПриЗагрузке="false">
			<Текст>// Должна вызываться перед обработкой табличной части "Товары" тех документов,
// где используются наборы
МетаданныеОбъекта = Источник.Метаданные();
ЕстьСуммаНДС = ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("СуммаНДС", МетаданныеОбъекта, "Товары");
ЕстьКоличество = ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("Количество", МетаданныеОбъекта, "Товары");
Запрос = Новый Запрос;
Запрос.Текст = "ВЫБРАТЬ
|	*
|ПОМЕСТИТЬ ТаблицаПоТоварам
|ИЗ
|	&amp;ТаблицаПоТоварам КАК ТаблицаПоТоварам
|;
|
|////////////////////////////////////////////////////////////////////////////////
|// Добавляет признак комплекта в таблицу товаров
|ВЫБРАТЬ
|	ТаблицаПоТоварам.Номенклатура.Комплект КАК Комплект,
|	*,";
Если ЕстьСуммаНДС Тогда
	Запрос.Текст = Запрос.Текст + "СуммаНДС КАК НДС,";
Иначе
	Запрос.Текст = Запрос.Текст + "0 КАК НДС,";
КонецЕсли;
Если ЕстьКоличество Тогда
	Запрос.Текст = Запрос.Текст + "Количество КАК КоличествоТЧ";
Иначе
	Запрос.Текст = Запрос.Текст + "0 КАК КоличествоТЧ";
КонецЕсли;
Запрос.Текст = Запрос.Текст + "
|ИЗ
|	ТаблицаПоТоварам КАК ТаблицаПоТоварам
|;
|
|////////////////////////////////////////////////////////////////////////////////
|// Таблица товаров без комплектов
|ВЫБРАТЬ
|	*
|ИЗ
|	ТаблицаПоТоварам КАК ТаблицаПоТоварам
|	ГДЕ ТаблицаПоТоварам.Номенклатура.Комплект = Ложь";
Запрос.УстановитьПараметр("ТаблицаПоТоварам", Источник.Товары.Выгрузить());

РезультатЗапроса              = Запрос.ВыполнитьПакет();
ТаблицаТоваров                = РезультатЗапроса[1].Выгрузить();
ТаблицаПоТоварамБезКомплектов = РезультатЗапроса[2].Выгрузить();
Источник.ПодготовитьТаблицуТоваров(ТаблицаТоваров, Новый Структура());
СтруктураШапкиДокумента = Новый Структура;
СтруктураШапкиДокумента.Вставить("Дата",Источник.Дата);
Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("Склад",МетаданныеОбъекта) тогда
	СтруктураШапкиДокумента.Вставить("Склад",Источник.Склад);
КонецЕсли;

ТаблицаПоКомплектам = УправлениеЗапасами.СформироватьТаблицуКомплектующих(ТаблицаТоваров, Источник,СтруктураШапкиДокумента);

//Наша добавка
Для каждого Строка Из ТаблицаПоКомплектам Цикл
	
	Строка.Количество = Строка.Количество * Строка.Номенклатура.ЕдиницаХраненияОстатков.Коэффициент / Строка.ЕдиницаИзмерения.Коэффициент;
	
КонецЦикла;

// Объединяет таблицу товаров и таблицу комплектующих
ТаблицаТоваров = Источник.Товары.ВыгрузитьКолонки();
ТаблицаТоваров.Колонки.Добавить("ПересчитыватьНДС", Новый ОписаниеТипов("Булево"));
ОбщегоНазначенияБПВызовСервера.ЗагрузитьВТаблицуЗначений(ТаблицаПоТоварамБезКомплектов, ТаблицаТоваров);
ОбщегоНазначенияБПВызовСервера.ЗагрузитьВТаблицуЗначений(ТаблицаПоКомплектам,           ТаблицаТоваров);</Текст>
		</Алгоритм>
		<Алгоритм Имя="УстановитьДоговорПоКонтрагенту" ИспользуетсяПриЗагрузке="true">
			<Текст>		Если ЗначениеЗаполнено(ПараметрКонтрагент)
		   И (Не ЗначениеЗаполнено(Объект.ДоговорКонтрагента)
		   ИЛИ ПараметрКонтрагент &lt;&gt; Объект.ДоговорКонтрагента.Владелец
		   ИЛИ ПараметрОрганизация &lt;&gt; Объект.ДоговорКонтрагента.Организация) Тогда

			СписокВидовДоговора = Новый СписокЗначений;
			СписокВидовДоговора.Добавить(ПараметрВидДоговора);

			СтруктураПараметров = Новый Структура("ВалютаВзаиморасчетов");
			СтруктураПараметров.ВалютаВзаиморасчетов     = Новый Структура("ЗначениеОтбора, ВидСравненияОтбора", Параметры.ВалютаРегламентированногоУчета, ВидСравнения.Равно);

			ДоговорКонтрагента  = Объект.ДоговорКонтрагента;
			ВладелецДоговора    = ПараметрКонтрагент;
			ОрганизацияДоговора = ПараметрОрганизация;
			СписокВидовДоговора = СписокВидовДоговора;
			СтруктураПараметров = СтруктураПараметров;

			НовыйДоговор = Справочники.ДоговорыКонтрагентов.ПустаяСсылка();

			Запрос = Новый Запрос;
			ТекстЗапроса = 
			"ВЫБРАТЬ РАЗРЕШЕННЫЕ ПЕРВЫЕ 2
			|	ДоговорыКонтрагентов.Ссылка,
			|	ВЫБОР
			|		КОГДА СправочникВладелец.Ссылка ЕСТЬ НЕ NULL 
			|			ТОГДА 1
			|		ИНАЧЕ 2
			|	КОНЕЦ КАК Приоритет
			|ИЗ
			|	Справочник.ДоговорыКонтрагентов КАК ДоговорыКонтрагентов
			|		ЛЕВОЕ СОЕДИНЕНИЕ Справочник.Контрагенты КАК СправочникВладелец
			|		ПО ДоговорыКонтрагентов.Владелец = СправочникВладелец.Ссылка
			|			И ДоговорыКонтрагентов.Ссылка = СправочникВладелец.ОсновнойДоговорКонтрагента
			|ГДЕ
			|	&amp;ТекстФильтра
			|
			|УПОРЯДОЧИТЬ ПО
			|	Приоритет";

			Запрос.УстановитьПараметр("ВладелецДоговора", ВладелецДоговора);
			Запрос.УстановитьПараметр("ОрганизацияДоговора", ОрганизацияДоговора);
			Запрос.УстановитьПараметр("СписокВидовДоговора", СписокВидовДоговора);

			ТекстФильтра = "
			|	ДоговорыКонтрагентов.Владелец = &amp;ВладелецДоговора
			|	И ДоговорыКонтрагентов.Организация = &amp;ОрганизацияДоговора
			|	И ДоговорыКонтрагентов.ПометкаУдаления = ЛОЖЬ"
			+?(СписокВидовДоговора&lt;&gt;неопределено,"
			|	И ДоговорыКонтрагентов.ВидДоговора В (&amp;СписокВидовДоговора)","");

			Если ТипЗнч(СтруктураПараметров) = Тип("Структура") Тогда
				Для каждого Параметр Из СтруктураПараметров Цикл
					ИмяРеквизита = Параметр.Ключ;
					СтруктураОтбора = Параметр.Значение;
					ВидСравненияЗапроса = "=";
					ТекстФильтра = ТекстФильтра + "
					|	И ДоговорыКонтрагентов." + ИмяРеквизита + " " + ВидСравненияЗапроса + " (&amp;" + ИмяРеквизита + ")";
					Запрос.УстановитьПараметр(ИмяРеквизита, СтруктураОтбора.ЗначениеОтбора);
				КонецЦикла;
			КонецЕсли;

			ТекстЗапроса = СтрЗаменить(ТекстЗапроса, "&amp;ТекстФильтра", ТекстФильтра);
			
			Запрос.Текст = ТекстЗапроса;
			Результат = Запрос.Выполнить();

			Если Результат.Пустой() Тогда

				НовыйДоговор                          = Справочники.ДоговорыКонтрагентов.СоздатьЭлемент();
				НовыйДоговор.ВалютаВзаиморасчетов     = Параметры.ВалютаРегламентированногоУчета;
				//
				ЭтоПоступлениеТоваровУслуг = Ложь;
				
				Попытка 
					ЭтоПоступлениеТоваровУслуг = ТипЗнч(Объект.Ссылка) = Тип("ДокументСсылка.ПоступлениеТоваровУслуг");
				Исключение
					ЭтоПоступлениеТоваровУслуг = Ложь;
				КонецПопытки;
				
				Если ЭтоПоступлениеТоваровУслуг Тогда
				//Для передачи из BAS Бухгалтерия в BAS РТ безналичных платежей
					НовыйДоговор.ВедениеВзаиморасчетов    = Перечисления.ВедениеВзаиморасчетовПоДоговорам.ПоРасчетнымДокументам;
					НовыйДоговор.ВедениеВзаиморасчетовНУ  = Перечисления.ВедениеВзаиморасчетовПоДоговорам.ПоРасчетнымДокументам;
					НовыйДоговор.Наименование             = "Договор создан из ""BAS РТ"" (по расч. документам)";
				Иначе
					НовыйДоговор.ВедениеВзаиморасчетов    = Перечисления.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом;
					НовыйДоговор.ВедениеВзаиморасчетовНУ  = Перечисления.ВедениеВзаиморасчетовПоДоговорам.ПоДоговоруВЦелом;
					//
					НовыйДоговор.Наименование             = "Договор создан из ""BAS РТ"" (по договору в целом)"; 
				КонецЕсли;
				НовыйДоговор.ВидДоговора              = ПараметрВидДоговора;
				НовыйДоговор.Владелец                 = ПараметрКонтрагент;
				
				НовыйДоговор.Организация              = ПараметрОрганизация;
				
				НовыйДоговор.Записать();

				Объект.ДоговорКонтрагента = НовыйДоговор.Ссылка;

			Иначе
				Выборка = Результат.Выбрать();
				Выборка.Следующий();
				
				НайденОсновнойДоговор = Выборка.Приоритет = 1;
				НайденОдинДоговор     = Выборка.Количество() = 1;

				Если НайденОсновнойДоговор ИЛИ НайденОдинДоговор Тогда
					НовыйДоговор = Выборка.Ссылка;
				КонецЕсли;

				Если (ДоговорКонтрагента.Владелец&lt;&gt;ВладелецДоговора ИЛИ ДоговорКонтрагента.Организация&lt;&gt;ОрганизацияДоговора) ИЛИ (не ЗначениеЗаполнено(ДоговорКонтрагента)) Тогда	
					Объект.ДоговорКонтрагента = НовыйДоговор;
				КонецЕсли;

			КонецЕсли;

			Если Не ПараметрДоговорВТабличнойЧасти Тогда

				СтруктураКурсаДокумента = МодульВалютногоУчета.ПолучитьКурсВалюты(Объект.ДоговорКонтрагента.ВалютаВзаиморасчетов, ПараметрДата);

				Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("ВалютаДокумента", МетаданныеДокумента) Тогда
					Объект.ВалютаДокумента = Объект.ДоговорКонтрагента.ВалютаВзаиморасчетов;
				КонецЕсли;

				// В некоторых документах курс и кратность документа отсутствуют.
				Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("КурсДокумента", МетаданныеДокумента) Тогда
					Объект.КурсДокумента           = СтруктураКурсаДокумента.Курс;
				КонецЕсли;

				Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("КратностьДокумента", МетаданныеДокумента) Тогда
					Объект.КратностьДокумента      = СтруктураКурсаДокумента.Кратность;
				КонецЕсли;

				Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("КурсВзаиморасчетов", МетаданныеДокумента) Тогда
					Объект.КурсВзаиморасчетов      = СтруктураКурсаДокумента.Курс;
				КонецЕсли;

				Если ОбщегоНазначенияБП.ЕстьРеквизитДокумента("КратностьВзаиморасчетов", МетаданныеДокумента) Тогда
					Объект.КратностьВзаиморасчетов = СтруктураКурсаДокумента.Кратность;
				КонецЕсли;

			Иначе

				СтруктураКурсаДокумента = МодульВалютногоУчета.ПолучитьКурсВалюты(Объект.ДоговорКонтрагента.ВалютаВзаиморасчетов, ПараметрДата);

				Если ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("КурсВзаиморасчетов", МетаданныеДокумента, ПараметрИмяТабличнойЧасти) Тогда
					Объект.КурсВзаиморасчетов      = СтруктураКурсаДокумента.Курс;
				КонецЕсли;

				Если ОбщегоНазначенияБП.ЕстьРеквизитТабЧастиДокумента("КратностьВзаиморасчетов", МетаданныеДокумента, ПараметрИмяТабличнойЧасти) Тогда
					Объект.КратностьВзаиморасчетов = СтруктураКурсаДокумента.Кратность;
				КонецЕсли;

			КонецЕсли;

		КонецЕсли;</Текст>
		</Алгоритм>
	</Алгоритмы>
	<Запросы>
		<Группа Имя="ВыгрузкаДокументов">
			<Запрос Имя="ОтчетОРозничныхПродажах" ИспользуетсяПриЗагрузке="false">
				<Текст>ВЫБРАТЬ
	Товары.Номенклатура       КАК Номенклатура,
	Товары.Характеристика     КАК Характеристика,
	Товары.Количество         КАК Количество,
	Товары.КоличествоУпаковок КАК КоличествоУпаковок,
	Товары.Упаковка           КАК Упаковка,
	Товары.СтавкаНДС          КАК СтавкаНДС,
	Товары.Цена               КАК Цена,
	Товары.Сумма              КАК Сумма,
	Товары.СуммаНДС           КАК СуммаНДС,
	Товары.СуммаАкцизногоНалога КАК СуммаАкцизногоНалога,
	Товары.ПодакцизныеТоварыДляКоммерческогоИспользования КАК ПодакцизныеТоварыДляКоммерческогоИспользования,
	Товары.СтатусУказанияСерий КАК СтатусУказанияСерий,
	Товары.ДисконтнаяКарта 	  КАК ДисконтнаяКарта,
	Товары.Продавец		 	  КАК Продавец
ИЗ
	Документ.ОтчетОРозничныхПродажах.Товары КАК Товары
ЛЕВОЕ СОЕДИНЕНИЕ
	Справочник.Номенклатура КАК СпрНоменклатура
ПО
	СпрНоменклатура.Ссылка = Товары.Номенклатура
ГДЕ
	Товары.Ссылка = &amp;Ссылка
	И СпрНоменклатура.ТипНоменклатуры = ЗНАЧЕНИЕ(Перечисление.ТипыНоменклатуры.Товар)
;
////////////////////////////////////////////////////////////////////////////////
ВЫБРАТЬ
	ТЧОплатаПлатежнымиКартами.Сумма КАК СуммаОплаты,
	ТЧОплатаПлатежнымиКартами.ЭквайринговыйТерминал.Эквайрер КАК Контрагент,
	ТЧОплатаПлатежнымиКартами.ВидОплаты КАК ВидОплаты
ИЗ
	Документ.ОтчетОРозничныхПродажах.ОплатаПлатежнымиКартами КАК ТЧОплатаПлатежнымиКартами
		
ГДЕ
	ТЧОплатаПлатежнымиКартами.Ссылка = &amp;Ссылка

ОБЪЕДИНИТЬ ВСЕ

ВЫБРАТЬ
	ТЧОплатаБанковскимиКредитами.Сумма,
	ТЧОплатаБанковскимиКредитами.БанкКредитор,
	ТЧОплатаБанковскимиКредитами.ВидОплаты
ИЗ
	Документ.ОтчетОРозничныхПродажах.ОплатаБанковскимиКредитами КАК ТЧОплатаБанковскимиКредитами
ГДЕ
	ТЧОплатаБанковскимиКредитами.Ссылка = &amp;Ссылка</Текст>
			</Запрос>
		</Группа>
	</Запросы>
</ПравилаОбмена>