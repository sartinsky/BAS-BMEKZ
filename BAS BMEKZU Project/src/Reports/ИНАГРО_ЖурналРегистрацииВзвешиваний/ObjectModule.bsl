
#Область СлужебныеПроцедурыИФункции

Процедура ПриКомпоновкеРезультата(ДокументРезультат, ДанныеРасшифровки, СтандартнаяОбработка)
	
	// Получаем необходимую СКД.
	Если ТипОтчета = "ТипВвоз" Тогда
		НеобходимаяСКД = ПолучитьМакет("СКД_Ввоз");	
		
	ИначеЕсли ТипОтчета = "ТипВывоз" Тогда
		НеобходимаяСКД = ПолучитьМакет("СКД_Вывоз");
			
	ИначеЕсли ТипОтчета = "ТипВнутр" Тогда
		НеобходимаяСКД = ПолучитьМакет("СКД_ВнутреннеПеремещение");
		
	ИначеЕсли ТипОтчета = "ТипВзвешивание" Тогда
		НеобходимаяСКД = ПолучитьМакет("СКД_Взвешивание");
		
	ИначеЕсли ТипОтчета = "ТипВвозВывоз" Тогда
		НеобходимаяСКД = ПолучитьМакет("СКД_ВвозВывоз");
		
	ИначеЕсли ТипОтчета = "ТипЖДВвоз" Тогда
		НеобходимаяСКД = ПолучитьМакет("СКД_ВвозЖД");
		
	ИначеЕсли ТипОтчета = "ТипЖДВывоз" Тогда
		НеобходимаяСКД = ПолучитьМакет("СКД_ВывозЖД");
	КонецЕсли; 
		
	// Устанавливаем выбранную СКД как основную.
	СхемаКомпоновкиДанных = НеобходимаяСКД;
	
	// Устанавливаем параметры.
	ПараметрыДанных = КомпоновщикНастроек.Настройки.ПараметрыДанных;
	ПараметрПериодОтчета = Новый ПараметрКомпоновкиДанных("ПериодОтчета");
	ЗначениеПериодОтчета = ПараметрыДанных.НайтиЗначениеПараметра(ПараметрПериодОтчета);
	Если ЗначениеПериодОтчета <> Неопределено Тогда
		ПараметрыДанных.УстановитьЗначениеПараметра(ПараметрПериодОтчета, Период);
	КонецЕсли;
	
	// Устанавливаем параметры.
	ПараметрыДанных = КомпоновщикНастроек.Настройки.ПараметрыДанных;
	ПараметрПериодОтчета = Новый ПараметрКомпоновкиДанных("Организация");
	ЗначениеПериодОтчета = ПараметрыДанных.НайтиЗначениеПараметра(ПараметрПериодОтчета);
	Если ЗначениеПериодОтчета <> Неопределено Тогда
		ПараметрыДанных.УстановитьЗначениеПараметра(ПараметрПериодОтчета, Организация);
	КонецЕсли;
	
	// Установка параметров шапки своими значениями. 
	Если ТипОтчета = "ТипВвоз" 		 ИЛИ 
		ТипОтчета = "ТипВывоз"     	 ИЛИ
		ТипОтчета = "ТипВнутр"     	 ИЛИ
		ТипОтчета = "ТипВзвешивание" ИЛИ
		ТипОтчета = "ТипВвозВывоз"     Тогда
		
		ПарамКодЕРДПОУ = Новый ПараметрКомпоновкиДанных("ПарамКод");
		ЗначениеКодЕРДПОУ = Организация.КодПоЕДРПОУ;	
		КомпоновщикНастроек.Настройки.ПараметрыДанных.УстановитьЗначениеПараметра(ПарамКодЕРДПОУ, ЗначениеКодЕРДПОУ);
		
		ПарамПолноеИмя = Новый ПараметрКомпоновкиДанных("ПарамПолноеИмя");
		ЗначениеПолноеИмя = Организация.НаименованиеПолное;	
		КомпоновщикНастроек.Настройки.ПараметрыДанных.УстановитьЗначениеПараметра(ПарамПолноеИмя, ЗначениеПолноеИмя);
		
	Иначе
		
		ПарамПолноеИмя = Новый ПараметрКомпоновкиДанных("ПарамПолноеИмя");
		ЗначениеПолноеИмя = Организация.НаименованиеПолное;	
		КомпоновщикНастроек.Настройки.ПараметрыДанных.УстановитьЗначениеПараметра(ПарамПолноеИмя, ЗначениеПолноеИмя);
		
	КонецЕсли;	 

КонецПроцедуры

#КонецОбласти
 