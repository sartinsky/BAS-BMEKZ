////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ФОРМЫ

&НаСервере
Процедура ПриСозданииНаСервере(Отказ, СтандартнаяОбработка)

	Если Параметры.Ключ.Пустой() Тогда
		ПодготовитьФормуНаСервере();
	КонецЕсли;

КонецПроцедуры

&НаСервере
Процедура ПриЧтенииНаСервере(ТекущийОбъект)

	ПодготовитьФормуНаСервере();

КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// ОБРАБОТЧИКИ СОБЫТИЙ ЭЛЕМЕНТОВ ШАПКИ ФОРМЫ

&НаКлиенте
Процедура ПериодПриИзменении(Элемент)

	УправлениеФормой(ЭтаФорма);
	
КонецПроцедуры

////////////////////////////////////////////////////////////////////////////////
// СЛУЖЕБНЫЕ ПРОЦЕДУРЫ И ФУНКЦИИ

&НаСервере
Процедура ПодготовитьФормуНаСервере()
	
	УправлениеФормой(ЭтаФорма);
	
КонецПроцедуры

&НаКлиентеНаСервереБезКонтекста
Процедура УправлениеФормой(Форма)

	Элементы = Форма.Элементы;
	Запись = Форма.Запись;
	
	ЭтоПериодДо2015 = (Запись.Период < '2015 01 01');
	
	Элементы.ГруппаКомандировочныеРасходы.Видимость = ЭтоПериодДо2015;
	Элементы.ГруппаНормируемыеРасходы.Видимость 	= ЭтоПериодДо2015;
	Элементы.ОбъемДоходаЕНЧетвертаяГруппа.Видимость = ЭтоПериодДо2015;
	Элементы.ОбъемДоходаЕНПятаяГруппа.Видимость 	= ЭтоПериодДо2015;
	Элементы.ОбъемДоходаЕНШестаяГруппа.Видимость 	= ЭтоПериодДо2015;
	
КонецПроцедуры
